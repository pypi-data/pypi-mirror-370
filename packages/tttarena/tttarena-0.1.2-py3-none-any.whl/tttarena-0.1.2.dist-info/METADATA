Metadata-Version: 2.3
Name: tttarena
Version: 0.1.2
Summary: Deterministic, turn-based Tetris engine with 'Nightmare' mechanics (target curve, petrification, entropy budget)
License: MIT
Author: naereni
Requires-Python: >=3.11
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Dist: numba (>=0.60.0,<0.63.0)
Requires-Dist: numpy (>=2.0.0,<3.0.0)
Requires-Dist: tqdm (>=4.67.0,<5.0.0)
Project-URL: Bug Tracker, https://github.com/naereni/tttarena/issues
Project-URL: Homepage, https://github.com/naereni/tttarena
Description-Content-Type: text/markdown

# üèÜ tttarena

[![PyPI version](https://badge.fury.io/py/tttarena.svg)](https://pypi.org/project/tttarena/)
[![Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/naereni/tttarena/blob/main/baseline.ipynb)
[![Kaggle Competition](https://img.shields.io/badge/Kaggle-Competition-blue?logo=kaggle&logoColor=white)](https://www.kaggle.com/c/tttarena)

–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, –ø–æ—à–∞–≥–æ–≤—ã–π –¥–≤–∏–∂–æ–∫ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –∏–≥—Ä—ã –≤ –¢–µ—Ç—Ä–∏—Å —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏. –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ò–ò-–±–æ—Ç–æ–≤, –±–∞–ª–∞–Ω—Å–∏—Ä—É—é—â–∏—Ö –º–µ–∂–¥—É –Ω–∞–±–æ—Ä–æ–º –æ—á–∫–æ–≤ –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–µ–π –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—é—â–µ–π—Å—è "—Ü–µ–ª–µ–≤–æ–π –∫—Ä–∏–≤–æ–π".

---

### üéØ –¶–µ–ª—å

–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–∑ **100,000 —Ñ–∏–≥—É—Ä** –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –Ω–∞–∏–ª—É—á—à–µ–≥–æ **–ò—Ç–æ–≥–æ–≤–æ–≥–æ –†–µ–∑—É–ª—å—Ç–∞—Ç–∞ (Final Score)**. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ —Å—Ä–µ–¥–Ω–µ–µ –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ –¥–≤—É—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:
1.  **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –°—á–µ—Ç (`Game Score`):** –û—á–∫–∏ –∑–∞ –æ—á–∏—Å—Ç–∫—É –ª–∏–Ω–∏–π.
2.  **–¢–æ—á–Ω–æ—Å—Ç—å –ê–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ (`Approximation Precision`):** –ú–µ—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–æ—Ñ–∏–ª—è –≤—ã—Å–æ—Ç –ø–æ–ª—è "—Ü–µ–ª–µ–≤–æ–π –∫—Ä–∏–≤–æ–π".

–ò—Ç–æ–≥–æ–≤–∞—è –º–µ—Ç—Ä–∏–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∫ –¥–∏—Å–±–∞–ª–∞–Ω—Å—É. –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

### üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—á–∞—Å—Ç–∏—é

1.  **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:** –ü–æ–ª—É—á–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–≤–∏–∂–∫–∞ –∏ –ø—Ä–∏–º–µ—Ä—ã –±–æ—Ç–æ–≤.
2.  **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞:** –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å –±–æ—Ç–∞, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `BaseBot` –∏ —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π `choose_move()`.
3.  **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–≥—Ä, –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.
4.  **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–∞ —Ä–µ—à–µ–Ω–∏—è:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º `seed` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `my_best_run.json`.
5.  **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ—à–µ–Ω–∏—è:** –ó–∞–≥—Ä—É–∑–∏—Ç–µ `my_best_run.json` –≤ —Å–∏—Å—Ç–µ–º—É —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–π.

---

### üîß –ö–ª—é—á–µ–≤—ã–µ –ú–µ—Ö–∞–Ω–∏–∫–∏

*   **–î–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º:** –ü—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º `seed` –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–≥—É—Ä –∏–¥–µ–Ω—Ç–∏—á–Ω–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å.
*   **–¶–µ–ª–µ–≤–∞—è –∫—Ä–∏–≤–∞—è:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞
*   **–°–∏—Å—Ç–µ–º–∞ –û—Ü–µ–Ω–∫–∏:**
    *   **Game Score (S):** –û—á–∫–∏ –∑–∞ –æ—á–∏—â–µ–Ω–Ω—ã–µ –ª–∏–Ω–∏–∏.
    *   **Approximation Error (P):** –û—à–∏–±–∫–∞ (MSE) –º–µ–∂–¥—É –≤—ã—Å–æ—Ç–∞–º–∏ –ø–æ–ª—è –∏ —Ü–µ–ª–µ–≤–æ–π –∫—Ä–∏–≤–æ–π. `P` ‚Äî —Å—É–º–º–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –∑–∞ –∏–≥—Ä—É.
    *   **Final Score:** `Final Score = 2 / (1/S_norm + 1/P_norm)`. –°—Ä–µ–¥–Ω–µ–µ –≥–∞—Ä–º–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.

---

### ‚ú® –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å PyPI:**
    ```bash
    pip install tttarena
    ```

4.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–º—É–ª—è—Ü–∏—é —Å –±–∞–∑–æ–≤—ã–º –±–æ—Ç–æ–º:**
    ```bash
    python main.py --seed 42
    python main.py --seed 42 --render [cli/pygame]
    ```

5.  **–ò–∑—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –õ–æ–≥ –∏–≥—Ä—ã –±—É–¥–µ—Ç –≤ `run_logs/`. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –µ–≥–æ:
    ```bash
    python tttarena/verify.py run_logs/my_best_run.json
    ```

7.  **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞:** –°–æ–∑–¥–∞–π—Ç–µ `tttarena/bots/my_bot.py` –¥–ª—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ (—Å–º–æ—Ç—Ä–∏ –±–µ–π–∑–ª–∞–π–Ω –Ω–∞ –∫–æ–ª–∞–±–µ)

### üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏. –í—ã–±–µ—Ä–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π.

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--render`:

```bash
poetry run python main.py --seed 123 --render <–∏–º—è_–≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–∞>
```

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä—ã:**

*   `cli`: –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è —Ç–µ–∫—Å—Ç–æ–≤–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è.
*   `pygame`: –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å Pygame.

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤:**

```bash
git clone https://github.com/your-org/tttarena.git 
cd tttarena
poetry install
```

1.  –°–æ–∑–¥–∞–π—Ç–µ `your_visualizer_name.py` –≤ `tttarena/simulator/visualizers/`.
2.  –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `BaseVisualizer` –∏ —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –µ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã.
3.  –î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –≤–∏–∑—É–∞–ª–∏–∑–∞—Ç–æ—Ä–µ –≤ `VISUALIZERS` –≤ `main.py`.

