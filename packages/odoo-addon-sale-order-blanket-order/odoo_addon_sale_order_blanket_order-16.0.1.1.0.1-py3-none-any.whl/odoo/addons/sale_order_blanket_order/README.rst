.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

========================
Sale Order Blanket Order
========================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:828867d7ee7c3b167c0563ead511f613c3c264489b9f2b42ed79b1a8658050ab
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--blanket-lightgray.png?logo=github
    :target: https://github.com/OCA/sale-blanket/tree/16.0/sale_order_blanket_order
    :alt: OCA/sale-blanket
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/sale-blanket-16-0/sale-blanket-16-0-sale_order_blanket_order
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/sale-blanket&target_branch=16.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module extends the functionality of Sale Order to support Blanket
Order and Call-off Order.

Blanket Order
=============

A Blanket Order is a standard sales order with the following specific
features:

- Type: Classified as "Blanket Order".
- Defined Duration: Includes a validity period (end date).
- Payment Terms: Allows selection of preferred terms (e.g., 90 days end
  of month, upon delivery, etc.).
- Invoicing Policy: Can be based on product settings or the order
  itself.
- Stock Reservation: Allows advance reservation of sold quantities.
- Handling Unfulfilled Quantities: Provides options for dealing with
  undelivered quantities upon order expiration.
- Prices are calculated based on existing rules since it is a standard
  sales order type.

The blanket order serves as the central element triggering stock
management and invoicing mechanisms.

Stock Management
----------------

Delivered quantities are tracked on the sales order lines as with
regular sales orders. By default, the stock is not reserved upon
confirmation of the blanket order. This is achieved by using the OCA
module
`sale_manual_delivery <https://pypi.org/project/odoo-addon-sale-manual-delivery/>`__.
As a result, the stock will be reserved only when a call-off order is
created for the quantity to be delivered.

In some cases, you may want to reserve stock upon confirmation of the
blanket order. This can be achieved by using the OCA module
`sale_order_blanket_order_stock_prebook <https://pypi.org/project/odoo-addon-sale-order-blanket-order-stock-prebook/>`__.
This module extends the functionality of Sale Blanket Order to support
the reservation of stock for future consumption by call-off orders. The
reservation is done at the time of the blanket order confirmation for a
consumption starting at the validity start date of the blanket order.
This behavior can be configured on the blanket order.

Invoicing
---------

Standard invoicing policies apply (e.g., invoice on order or on
delivery). Payment terms are configurable per order. Prepayment can be
enforced by configuring the invoicing policy at the order level using
the OCA module
`sale_invoice_policy <https://pypi.org/project/odoo-addon-sale-invoice-policy/>`__.

Consumption Management
----------------------

A wizard will be available on the blanket order to initiate a delivery.
It allows users to select products and quantities for delivery. This
action creates a Call-off Order linked to the blanket order.

Call-off Order
==============

A Call-off Order is a standard sales order with these specific
characteristics:

- Type: Classified as "Call-off Order".
- Linked to Blanket Order: Only includes products from the blanket
  order.
- Delivery Release: Enables the release of reserved stock for delivery.
- No Invoicing or Stock Management: These are handled via the linked
  blanket order.

Stock Management
----------------

No delivery is generated directly from the call-off order.

It triggers:

- Release of the reserved quantity in the blanket order.
- Adjustment of stock reservations for the remaining quantities.

Standard Sales Orders
=====================

To support existing workflows (e.g., e-commerce), call-off orders can be
generated transparently from standard sales orders based on product and
availability:

Entire orders may be converted into call-off orders if all products are
linked to a blanket order. Mixed orders split call-off items into a new
call-off order, with both confirmed within the available quantities of
the blanket order.

**Table of contents**

.. contents::
   :local:

Use Cases / Context
===================

When a company sells the same products to the same customers on a
regular basis, it's a common business practice to create a blanket order
that defines the terms and conditions of the sales.

If you need a way to define:

- the terms and conditions of the sales,
- the payment terms,
- the delivery terms,

and also secure the quantities of the products to be delivered, the sale
order blanket order module is the right choice.

This module introduces 2 new kinds of sales orders:

1. Blanket Order: This is a sales order that defines the terms and
   conditions of the sales, the price, the payment terms, the delivery
   terms, and secures the quantities of the products to be delivered.

2. Call of order: This is a sales order linked to a blanket order that
   is created to trigger the delivery of quantities of the products
   secured in the blanket order.

Others modules can be used to provide the same kind of features. For
example, the module
(sale_blanket_order)[https://pypi.org/project/odoo-addon-sale-blanket-order]
also defines the concept of sale blanket order. The main difference
between the two modules is that the sale order blanket order module
extends the sale order model to add the sale blanket order and the call
off order. This allows to keep the benefits of all the extensions made
on the sale order model by other modules without having to adapt them to
the sale blanket order model (discount, invoicing; inventory process,
...).

Usage
=====

By default, the automatic creation of call-off orders from normal sale
orders containing products part of a blanket order is disabled. To
enable this feature, you need to go into the sales settings and enable
the option "Create Call-Off from SO if possible".

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-blanket/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/sale-blanket/issues/new?body=module:%20sale_order_blanket_order%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* ACSONE SA/NV
* BCIM

Contributors
------------

- Laurent Mignon\ laurent.mignon@acsone.eu (https://www.acsone.eu)
- Jacques-Etienne Baudoux (BCIM) je@bcim.be

Other credits
-------------

The development of this module has been financially supported by:

- ALCYON Belux

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/sale-blanket <https://github.com/OCA/sale-blanket/tree/16.0/sale_order_blanket_order>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
