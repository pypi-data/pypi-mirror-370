id: compose-theme-switcher
title: "Add Dark/Light Theme Toggle with Persistence"
description: |
  Implement a theme toggle in the settings screen that lets the user switch between
  light and dark modes. Persist the choice using DataStore and reflect the theme
  across app restarts.

  Requirements:
  - Add toggle in UI to switch themes
  - Store choice using DataStore
  - Apply theme app-wide using state hoisting
  - Default to system theme if no choice saved

author_email: your-email@domain.com
difficulty: medium
estimated_time: 45
tags: [theme, compose, datastore, settings, state]
files_to_modify:
  - app/src/main/java/com/project/saturn/ui/screens/SettingsScreen.kt
  - app/src/main/java/com/project/saturn/viewmodel/ThemeViewModel.kt
  - app/src/main/java/com/project/saturn/data/PreferencesManager.kt
  - app/src/main/java/com/project/saturn/MainActivity.kt
  - app/src/test/java/com/project/saturn/ThemePersistenceTest.kt
success_criteria:
  - Theme toggle switches instantly
  - Preference saved in DataStore
  - Theme restored on restart