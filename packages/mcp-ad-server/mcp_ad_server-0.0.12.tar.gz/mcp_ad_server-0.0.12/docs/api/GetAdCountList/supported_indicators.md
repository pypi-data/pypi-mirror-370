## GetAdCountList 指标字段支持清单（按游戏类型）

说明：本清单基于后端实现 `backend-reference/GetAdCountList/account_data_report_table/bi.go` 与 `fx.go` 梳理，列出“棋牌游戏（BI）”与“非棋牌游戏（FX）”实际支持的指标字段，并标注条件性项。所有查询均需包含“日期”。

### 棋牌游戏（BI）

- 适用 appid：48, 57, 62, 64

- 基础维度与元信息
  - 日期
  - 创意名称, 广告计划名称, 广告状态, 项目名称, 备注
  - 曝光次数, 点击数, 千次展现均价
  - 点击率, 激活率, 点击成本

- 用户与付费指标
  - 新增注册, 新增创角, 创角率, 活跃用户
  - 当日充值, 当日充值人数, 当日付费次数
  - 新增付费人数, 首充付费人数, 首充付费次数
  - 新增付费金额, 首充付费金额
  - 新增付费率, 活跃付费率
  - 活跃arppu, 新增arppu
  - 消耗, 一阶段花费, 二阶段花费
  - 新增付费成本, 付费成本, 创角成本, 注册成本
  - 老用户付费人数, 老用户付费金额, 老用户首次付费
  - 注册用户0局人数, 注册用户1-10局人数, 注册用户11-50局人数, 注册用户50局以上人数

- 广告变现指标
  - 广告变现人数, 小游戏广告变现金额（平台上报）, 广告变现成本
  - 小游戏注册首日广告变现金额（部分实现中别名：激活24小时广告变现金额）, 小游戏注册首日广告变现ROI, 注册首日广告变现人数, 注册首日广告变现arppu, 注册首日广告变现成本
  - 一键起量消耗

- ROI 与累计类
  - 首日ROI, 分成后首日ROI, 付费首日ROI, 付费分成后首日ROI
  - 首日平台roi, 分成后首日平台ROI, 付费首日平台ROI, 付费分成后首日平台ROI
  - 累计ROI, 分成后累计ROI, 付费累计ROI, 付费分成后累计ROI
  - 累计平台roi, 分成后累计平台ROI, 付费累计平台ROI, 付费分成后平台累计ROI
  - 24小时ROI, 7日ROI
  - 计算累计ROI所用金额, 计算累计ROI所用消耗

- 平台（棋牌专有）
  - 平台当日充值, 平台当日充值人数, 平台当日付费次数
  - 平台新增付费人数, 平台新增付费金额

备注：`分成后收入/平台分成后收入` 在 SQL 中用于构造 ROI 相关中间列，通常不直接作为返回字段暴露。

- 条件性与限制
  - cid/cid备注：仅当 group_key ∈ {`vp_campaign_id`, `vp_originality_id`}
  - 广告创建时间：仅当 group_key = `vp_campaign_id`
  - 账户余额：仅当 group_key = `dt_vp_fx_cid`
  - 平均关卡/平均在线时长（分钟）/平均章节/付费用户平均关卡/付费用户平均在线时长（分钟）/付费用户平均章节：仅当 appid = `69`
  - 优质广告状态：仅当 appid ∈ {`61`,`67`,`82`} 且 group_key ∈ {`vp_adgroup_id`,`vp_campaign_id`}

备注：BI 侧内部计算以 `price`、`vp_pay_system`、`is_wangyou` 区分棋牌/非棋牌流；“平台*”类指标仅在 BI 有定义。

### 非棋牌游戏（FX）

- 适用 appid：59, 61, 65, 67, 68, 69, 72, 73, 74, 75, 78, 80, 81, 82

- 基础维度与元信息
  - 日期
  - 创意名称, 广告计划名称, 广告状态, 项目名称, 备注
  - 曝光次数, 点击数, 千次展现均价
  - 点击率, 激活率, 点击成本

- 用户与付费指标
  - 新增注册, 新增创角, 创角率, 活跃用户
  - 当日充值, 当日充值人数, 当日付费次数
  - 新增付费人数, 首充付费人数, 首充付费次数
  - 新增付费金额, 首充付费金额
  - 新增付费率, 活跃付费率
  - 活跃arppu, 新增arppu
  - 消耗, 一阶段花费, 二阶段花费
  - 新增付费成本, 付费成本, 创角成本, 注册成本
  - 老用户付费人数, 老用户付费金额

- 广告变现指标
  - 广告变现人数, 小游戏广告变现金额（平台上报）, 广告变现成本
  - 小游戏注册首日广告变现金额（部分实现中别名：激活24小时广告变现金额）, 小游戏注册首日广告变现ROI, 注册首日广告变现人数, 注册首日广告变现arppu, 注册首日广告变现成本
  - 一键起量消耗

- ROI 与累计类
  - 24小时ROI, 7日ROI
  - 首日ROI, 分成后首日ROI, 付费首日ROI, 付费分成后首日ROI
  - 累计ROI, 分成后累计ROI, 付费累计ROI, 付费分成后累计ROI
  - 计算累计ROI所用金额, 计算累计ROI所用消耗

- 条件性与限制
  - cid：仅当 group_key ∈ {`vp_campaign_id`, `vp_originality_id`}
  - 广告创建时间：仅当 group_key = `vp_campaign_id`
  - 账户余额：仅当 group_key = `dt_vp_fx_cid`
  - 平均关卡/平均在线时长（分钟）/平均章节/付费用户平均关卡/付费用户平均在线时长（分钟）/付费用户平均章节：仅当 appid = `69`
  - 优质广告状态：仅当 appid ∈ {`61`,`67`,`82`} 且 group_key ∈ {`vp_adgroup_id`,`vp_campaign_id`}

备注：FX 侧以 `money`、`pay_system`、`fx_cid`、`channel` 等字段计算；“曝光/点击/千次展现均价/一二阶段花费/累计ROI计算用金额与消耗”仅在 FX 有定义。

### 对照与差异（要点）

- 平台类指标（前缀“平台”）仅 BI 支持；曝光/点击/千次展现均价/阶段花费两侧均支持。
- 两侧均支持：用户与付费基础指标、广告变现指标、首日/累计/24小时/7日 ROI 系列。
- 条件性指标（cid、广告创建时间、账户余额、优质广告状态、appid=69 的平均关卡系列）在 BI/FX 一致。

### 最低必需

- zhibiao_list 必须包含“日期”。缺失会直接导致 SQL 分组错误。

### 参考

- 源实现：`backend-reference/GetAdCountList/account_data_report_table/bi.go`、`backend-reference/GetAdCountList/account_data_report_table/fx.go`
- 详细映射：`docs/api/GetAdCountList/sql_field_mapping_bi.md`、`docs/api/GetAdCountList/sql_field_mapping_fx.md`
