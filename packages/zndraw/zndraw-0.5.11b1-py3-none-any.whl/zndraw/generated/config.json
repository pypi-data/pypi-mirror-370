{
  "data": {
    "$defs": {
      "Camera": {
        "properties": {
          "camera": {
            "$ref": "#/$defs/CameraEnum",
            "default": "PerspectiveCamera"
          },
          "camera_near": {
            "default": 0.1,
            "description": "Camera near rendering plane",
            "maximum": 100,
            "minimum": 0,
            "title": "Camera Near",
            "type": "number"
          },
          "camera_far": {
            "default": 300,
            "description": "Camera far rendering plane",
            "maximum": 1000,
            "minimum": 1,
            "title": "Camera Far",
            "type": "number"
          },
          "crosshair": {
            "default": false,
            "description": "Show camera controls target.",
            "title": "Crosshair",
            "type": "boolean"
          },
          "synchronize_camera": {
            "default": true,
            "description": "Synchronize camera with other room members.",
            "title": "Synchronize Camera",
            "type": "boolean"
          },
          "fps": {
            "default": 30,
            "description": "Maximum frames per second",
            "maximum": 120,
            "minimum": 1,
            "title": "Fps",
            "type": "integer"
          },
          "controls": {
            "$ref": "#/$defs/Controls",
            "default": "OrbitControls",
            "description": "Controls"
          }
        },
        "title": "Camera",
        "type": "object"
      },
      "CameraEnum": {
        "enum": [
          "PerspectiveCamera",
          "OrthographicCamera"
        ],
        "title": "CameraEnum",
        "type": "string"
      },
      "Controls": {
        "enum": [
          "OrbitControls",
          "TrackballControls"
        ],
        "title": "Controls",
        "type": "string"
      },
      "EnvironmentPreset": {
        "enum": [
          "none",
          "apartment",
          "city",
          "dawn",
          "forest",
          "lobby",
          "night",
          "park",
          "studio",
          "sunset",
          "warehouse"
        ],
        "title": "EnvironmentPreset",
        "type": "string"
      },
      "Material": {
        "enum": [
          "MeshBasicMaterial",
          "MeshPhysicalMaterial",
          "MeshStandardMaterial",
          "MeshToonMaterial"
        ],
        "title": "Material",
        "type": "string"
      },
      "Particle": {
        "properties": {
          "particle_size": {
            "default": 1.0,
            "description": "Particle Size",
            "maximum": 5,
            "minimum": 0.1,
            "title": "Particle Size",
            "type": "number"
          },
          "bond_size": {
            "default": 1.0,
            "description": "Bonds Size",
            "maximum": 5,
            "minimum": 0.1,
            "title": "Bond Size",
            "type": "number"
          },
          "show_bonds": {
            "default": true,
            "description": "Show bonds",
            "title": "Show Bonds",
            "type": "boolean"
          },
          "material": {
            "$ref": "#/$defs/Material",
            "default": "MeshStandardMaterial",
            "description": "Material"
          },
          "selection_color": {
            "default": "#ffa500",
            "description": "Selection color",
            "title": "Selection Color",
            "type": "string"
          },
          "hover_opacity": {
            "default": 0.8,
            "description": "Hover opacity",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Hover Opacity",
            "type": "number"
          },
          "selection_opacity": {
            "default": 0.5,
            "description": "Selection opacity",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Selection Opacity",
            "type": "number"
          }
        },
        "title": "Particle",
        "type": "object"
      },
      "PathTracer": {
        "description": "Experimental path tracer settings.",
        "properties": {
          "enabled": {
            "default": false,
            "title": "Enabled",
            "type": "boolean"
          },
          "environment": {
            "$ref": "#/$defs/EnvironmentPreset",
            "default": "studio"
          },
          "metalness": {
            "default": 0.7,
            "description": "Metalness",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Metalness",
            "type": "number"
          },
          "roughness": {
            "default": 0.2,
            "description": "Roughness",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Roughness",
            "type": "number"
          },
          "clearcoat": {
            "default": 0.0,
            "description": "Clearcoat",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Clearcoat",
            "type": "number"
          },
          "clearcoatRoughness": {
            "default": 0.0,
            "description": "Clearcoat Roughness",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Clearcoatroughness",
            "type": "number"
          }
        },
        "title": "PathTracer",
        "type": "object"
      },
      "VectorDisplay": {
        "properties": {
          "vectorfield": {
            "default": true,
            "description": "Show vectorfield.",
            "title": "Vectorfield",
            "type": "boolean"
          },
          "vectors": {
            "description": "Visualize vectorial property",
            "items": {
              "type": "string"
            },
            "title": "Vectors",
            "type": "array"
          },
          "vector_scale": {
            "default": 1.0,
            "description": "Rescale Vectors",
            "maximum": 5,
            "minimum": 0.1,
            "title": "Vector Scale",
            "type": "number"
          },
          "vector_colors": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "Color for each vector",
            "title": "Vector Colors",
            "type": "object"
          },
          "normalize": {
            "default": true,
            "description": "Normalize vector lengths",
            "title": "Normalize",
            "type": "boolean"
          },
          "scale_vector_thickness": {
            "default": false,
            "description": "Scale arrow thickness based on vector magnitude",
            "title": "Scale Vector Thickness",
            "type": "boolean"
          },
          "opacity": {
            "default": 1.0,
            "description": "Arrow transparency",
            "maximum": 1.0,
            "minimum": 0.0,
            "title": "Opacity",
            "type": "number"
          },
          "colorrange": {
            "default": [
              0.0,
              1.0
            ],
            "description": "Min and max values for color mapping",
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "number"
              },
              {
                "type": "number"
              }
            ],
            "title": "Colorrange",
            "type": "array"
          },
          "default_colormap": {
            "default": [
              [
                0.66,
                1.0,
                0.5
              ],
              [
                0.0,
                1.0,
                0.5
              ]
            ],
            "description": "Default HSL colormap for vector fields (blue to red)",
            "items": {
              "maxItems": 3,
              "minItems": 3,
              "prefixItems": [
                {
                  "type": "number"
                },
                {
                  "type": "number"
                },
                {
                  "type": "number"
                }
              ],
              "type": "array"
            },
            "title": "Default Colormap",
            "type": "array"
          }
        },
        "title": "VectorDisplay",
        "type": "object"
      },
      "Visualization": {
        "properties": {
          "simulation_box": {
            "default": true,
            "description": "Show the simulation box.",
            "title": "Simulation Box",
            "type": "boolean"
          },
          "floor": {
            "default": false,
            "description": "Show the floor.",
            "title": "Floor",
            "type": "boolean"
          },
          "frame_update": {
            "default": true,
            "description": "Jump to updated frames.",
            "title": "Frame Update",
            "type": "boolean"
          },
          "animation_loop": {
            "default": false,
            "description": "Automatically restart animation when finished.",
            "title": "Animation Loop",
            "type": "boolean"
          }
        },
        "title": "Visualization",
        "type": "object"
      }
    },
    "description": "ZnDraw room configuration combining all settings sections.",
    "properties": {
      "Particle": {
        "$ref": "#/$defs/Particle"
      },
      "Visualization": {
        "$ref": "#/$defs/Visualization"
      },
      "Camera": {
        "$ref": "#/$defs/Camera"
      },
      "PathTracer": {
        "$ref": "#/$defs/PathTracer"
      },
      "VectorDisplay": {
        "$ref": "#/$defs/VectorDisplay"
      }
    },
    "required": [
      "Particle",
      "Visualization",
      "Camera",
      "PathTracer",
      "VectorDisplay"
    ],
    "title": "RoomConfig",
    "type": "object"
  },
  "ui": {
    "type": "VerticalLayout",
    "elements": [
      {
        "type": "Group",
        "label": "Particle",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/particle_size"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/bond_size"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/show_bonds"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/material"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/selection_color"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/hover_opacity"
          },
          {
            "type": "Control",
            "scope": "#/properties/Particle/properties/selection_opacity"
          }
        ]
      },
      {
        "type": "Group",
        "label": "Visualization",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/Visualization/properties/simulation_box"
          },
          {
            "type": "Control",
            "scope": "#/properties/Visualization/properties/floor"
          },
          {
            "type": "Control",
            "scope": "#/properties/Visualization/properties/frame_update"
          },
          {
            "type": "Control",
            "scope": "#/properties/Visualization/properties/animation_loop"
          }
        ]
      },
      {
        "type": "Group",
        "label": "Camera",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/camera"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/camera_near"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/camera_far"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/crosshair"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/synchronize_camera"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/fps"
          },
          {
            "type": "Control",
            "scope": "#/properties/Camera/properties/controls"
          }
        ]
      },
      {
        "type": "Group",
        "label": "PathTracer",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/enabled"
          },
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/environment"
          },
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/metalness"
          },
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/roughness"
          },
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/clearcoat"
          },
          {
            "type": "Control",
            "scope": "#/properties/PathTracer/properties/clearcoatRoughness"
          }
        ]
      },
      {
        "type": "Group",
        "label": "VectorDisplay",
        "elements": [
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/vectorfield"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/vectors"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/vector_scale"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/vector_colors"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/normalize"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/scale_vector_thickness"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/opacity"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/colorrange"
          },
          {
            "type": "Control",
            "scope": "#/properties/VectorDisplay/properties/default_colormap"
          }
        ]
      }
    ]
  }
}