[build-system]
requires = [
    "setuptools~=75.5",
    "setuptools-scm~=8.1",
]
build-backend = "setuptools.build_meta"

[project]
name = "xmlist"
authors = [
    { name = "Joost Molenaar", email = "jjm@j0057.nl" },
]
license = { text = "MIT" }
description = "Generates XML, represented as lists and tuples"
readme = "README.md"
requires-python = ">=3.9"
classifiers = [
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: Implementation :: CPython",
]
keywords = [
    "xml",
    "html",
]
dynamic = [
    "version",
]

[project.urls]
repository = "https://gitlab.com/j0057-git/python/xmlist"
issues = "https://gitlab.com/j0057-git/python/xmlist/-/issues"

[dependency-groups]
build = [
    "build~=1.2",
    "pypi-attestations~=0.0",
    "setuptools~=75.5",
    "setuptools-scm~=8.1",
]
publish = [
    "twine~=5.1",
]
test = [
    "pytest~=8.3",
    "pytest-cov~=6.0",
    "pytest-flakes~=4.0"
]
dev = [
    {include-group = "build"},
    {include-group = "publish"},
    {include-group = "test"},
    "tox~=4.23",
]

[tool.coverage.html]
directory = "htmlcov"

[tool.coverage.run]
branch = true

[tool.pytest.ini_options]
addopts = "--cov-report html --cov-report term --cov xmlist --flakes"

[tool.setuptools]
py-modules = ["xmlist"]
include-package-data = false

[tool.setuptools.package-data]
xmlist = ["*.md"]

[tool.setuptools_scm]
local_scheme = "no-local-version"

[tool.tox]
isolated_build = true
env_list = [
    "3.9",
    "3.10",
    "3.11",
    "3.12",
    "3.13",
]

[tool.tox.env_run_base]
commands = [
    ["python", "-m", "pip", "install", "-e", ".[test]"],
    ["python", "-m", "pytest"],
]
