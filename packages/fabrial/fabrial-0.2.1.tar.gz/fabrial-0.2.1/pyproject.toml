[project]
name = "fabrial"
dynamic = ["version"]
authors = [{ name = "Drew Whitney", email = "drewlwhitney@gmail.com" }]
maintainers = [{ name = "Drew Whitney", email = "drewlwhitney@gmail.com" }]
description = "Fabrial lets you create sequences to automate lab experiments."
readme = "README.md"
# dependencies
requires-python = ">=3.13"
dependencies = [
    "comtypes>=1.4.11",
    "jinja2>=3.1.6",
    "minimalmodbus>=2.1.1",
    "polars>=1.31.0",
    "pyqt6>=6.9.1",
    "pyqtgraph>=0.13.7",
    "pyserial>=3.5",
    "tendo>=0.3.0",
    "fabrial-core-plugins",
]
[dependency-groups]
test = ["pytest", "pytest-qt"]

[project.urls]
Repository = "https://github.com/Maughan-Lab/fabrial"

# makes a `fabrial`/`fabrial.exe` script when installing
[project.scripts]
fabrial = "fabrial.main:main"


# hatch config
[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"

[tool.hatch.version.raw-options]
version_scheme = "no-guess-dev"

# uv config
[tool.uv]
default-groups = ["test"]

[tool.uv.workspace]
members = ["core_plugins"]

[tool.uv.sources]
fabrial-core-plugins = { workspace = true }


# pytest config
[tool.pytest.ini_options]
addopts = "-q -s --show-capture=no"
testpaths = ["tests"]
# search in all python files except `__init__.py`
python_files = ["[!__init__]*.py"]
python_functions = ["test_*"]
