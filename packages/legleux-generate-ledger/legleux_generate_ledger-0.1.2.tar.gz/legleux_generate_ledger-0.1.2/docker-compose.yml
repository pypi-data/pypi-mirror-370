services:
  generate_ledger:
    build:
      context: .
      dockerfile: docker/Dockerfile
    # stdin_open: true # docker run -i
    # tty: true        # docker run -t
    command: ["testnet"]
    volumes:
      - ./testnet:/testnet
    develop:
      watch:
        - action: sync
          path: .
          target: /opt/generate_ledger
          ignore:
            - .venv/
        - action: rebuild
          path: ./pyproject.toml
