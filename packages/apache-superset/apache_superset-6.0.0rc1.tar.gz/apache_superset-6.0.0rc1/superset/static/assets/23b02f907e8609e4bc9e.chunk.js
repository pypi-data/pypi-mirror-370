"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[7412],{2171:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var l=n(98023),r=n.n(l),i=n(2445),o=n(50290),a=n(29898),s=n(52966),u=n(74098),d=n(90924),c=n(65432),m=n(78878),h=n(96540),p=n(61412),f=n(7142),g=n(68326),v=n(95018),x=n(8558),b=n(82384),y=n(70372),w=n(17102),M=n(2259),S=n(1984);const I=o.I4.span`
  margin: 0 ${({theme:e})=>3*e.sizeUnit}px;
  color: ${({theme:e})=>e.colorSplit};
  font-weight: ${({theme:e})=>e.fontWeightStrong};
  font-size: ${({theme:e})=>e.fontSize}px;
  align-content: center;
`,$=o.I4.div`
  display: flex;
  justify-content: space-between;
  width: 100%;

  .ant-input-number {
    min-width: 80px;
    position: relative;
  }
`,A=o.I4.div`
  ${({theme:e})=>`\n    margin: ${4*e.sizeUnit}px 0;\n    padding: 0 ${e.sizeUnit}px;\n  `}
`,F=o.I4.div`
  ${({theme:e})=>`\n    position: absolute;\n    top: -${10*e.sizeUnit}px;\n    right: 0px;\n    z-index: 100;\n    display: flex;\n    align-items: center;\n\n    .tooltip-icon {\n      margin-left: ${2*e.sizeUnit}px;\n    }\n  `}
`,C=o.I4.div`
  ${({theme:e})=>`\n    display: flex;\n    flex-direction: column;\n    gap: ${4*e.sizeUnit}px;\n    width: 100%;\n\n    .controls-container {\n      display: flex;\n      align-items: center;\n      gap: ${4*e.sizeUnit}px;\n      width: 100%;\n\n      .slider-wrapper {\n        display: flex;\n        align-items: center;\n        flex: 2;\n      }\n\n      .slider-container {\n        flex: 1;\n        min-width: 180px;\n      }\n\n      .inputs-container {\n        min-width: 160px;\n        max-width: 200px;\n      }\n\n    }\n\n    .message-container {\n      width: 100%;\n      text-align: center;\n      padding-top: ${2*e.sizeUnit}px;\n    }\n  `}
`,N=(0,a.gV)(s.A.SMART_NUMBER),Y=(e,t,n=!1)=>n&&null!==e||null!==e&&e===t?`x = ${N(e)}`:null!==e&&null!==t?`${N(e)} ≤ x ≤ ${N(t)}`:null!==e?`x ≥ ${N(e)}`:null!==t?`x ≤ ${N(t)}`:"",E=(e,t,n,l,i)=>{const[o,a]=e,s=(0,u.t)("Please provide a valid min or max value"),d=(0,u.t)("Min value cannot be greater than max value"),c=(0,u.t)("Numbers must be within %(min)s and %(max)s",{min:t,max:n});if(void 0!==i){const e=i===S.y.Minimum||i===S.y.Exact?o:a;return r()(e)?r()(e)&&(e<t||e>n)?{isValid:!1,errorMessage:c}:{isValid:!0,errorMessage:null}:{isValid:!1,errorMessage:s}}return l||null!==o||null!==a?l&&null===o&&null===a?{isValid:!1,errorMessage:s}:null!==o&&null!==a&&o>a?{isValid:!1,errorMessage:d}:null!==o&&o<t||null!==a&&a>n?{isValid:!1,errorMessage:c}:{isValid:!0,errorMessage:null}:{isValid:!0,errorMessage:null}};function k(e){const t=(0,o.DP)(),{data:n,formData:l,height:r,width:a,setDataMask:s,setFocusedFilter:k,unsetFocusedFilter:W,setHoveredFilter:z,unsetHoveredFilter:H,setFilterActive:V,filterState:D,inputRef:T,filterBarOrientation:U=p.QI.Vertical,isOverflowingFilterBar:R}=e,[q]=n,{min:O,max:B}=q,{groupby:L,enableSingleValue:j,enableEmptyFilter:P,defaultValue:Q}=l,X=(null==l?void 0:l.rangeDisplayMode)||y.l.SliderAndInput,K=j===S.y.Exact,[J=""]=(0,d.A)(L).map(c.A),[_,G]=(0,h.useState)(D.value||Q||[null,null]),[Z,ee]=(0,h.useState)(null),te=(0,h.useMemo)((()=>{const[e,t]=_;return j===S.y.Minimum||j===S.y.Exact?null!==e?e:O:j===S.y.Maximum?null!==t?t:B:[null!==e?e:O,null!==t?t:B]}),[_,O,B,j]),ne=(0,h.useCallback)((e=>{s({extraFormData:{},filterState:{value:null,label:"",validateStatus:"error",validateMessage:e||""}})}),[s]),le=(0,h.useCallback)((e=>{const[t,n]=e;s({extraFormData:(0,M.SO)(J,t,n),filterState:{value:K?[t,t]:[t,n],label:Y(t,n,K),validateStatus:void 0,validateMessage:""}})}),[s]);(0,h.useEffect)((()=>{if(void 0!==(null==q?void 0:q.min)||void 0!==(null==q?void 0:q.max))if("error"!==D.validateStatus){if(void 0===D.value&&!D.validateStatus)return G([null,null]),void le([null,null]);(0,m.A)(Q,_)?le(Q):D.value&&!D.validateStatus&&(G(D.value),le(D.value))}else if(ee(D.validateMessage),Z!==D.validateMessage){const{isValid:e,errorMessage:t}=E(_,O,B,P,j);e?(ee(null),le(_)):(ee(t),ne(t))}}),[JSON.stringify(D.value)]);const re=(0,h.useMemo)((()=>{switch(j){case S.y.Minimum:return(0,u.t)("Filters for values greater than or equal.");case S.y.Maximum:return(0,u.t)("Filters for values less than or equal.");case S.y.Exact:return(0,u.t)("Filters for values equal to this exact value.");default:return null}}),[j]),ie=(0,h.useRef)(!1),oe=e=>{ie.current=!!/^[0-9]$/.test(e.key)},ae=(0,h.useCallback)(((e,t)=>{if(void 0===(null==q?void 0:q.min)&&void 0===(null==q?void 0:q.max))return;let n=e;null!==e&&null===_[t]&&(ie.current?(n=e,ie.current=!1):0===t&&1===e?n=O+1:0===t&&-1===e?n=O-1:1===t&&1===e?n=B+1:1===t&&-1===e&&(n=B-1));const l=0===t?[n,_[1]]:[_[0],n];G(l);const{isValid:r,errorMessage:i}=E(l,O,B,P,j);if(!r)return ee(i),void ne(i);ee(null),le(l)}),[O,B,P,j,ne,le,_]),se=(0,h.useCallback)((e=>{let t;if(void 0!==j){const n="number"==typeof e?e:Array.isArray(e)&&e.length>0?e[0]:(O+B)/2;t=j===S.y.Minimum?[n,null]:j===S.y.Maximum?[null,n]:[n,n]}else{const n=Array.isArray(e)?e:[O,B],[l,r]=n.length>=2?[n[0],n[1]]:[O,B];t=[l,r]}G(t),ee(null),le(t)}),[O,B,j,le]),ue=(0,h.useCallback)((()=>{const e=(0,u.t)("Choose numbers between %(min)s and %(max)s",{min:O,max:B});return Z?{message:Z,status:"error"}:void 0!==j&&re?{message:re,status:"help"}:{message:e,status:"help"}}),[Z,O,B,j,re]),de=(0,h.useCallback)((()=>{const{message:e,status:t}=ue();return U===p.QI.Vertical?(0,i.Y)(w.Mo,{status:t,children:e}):null}),[ue,U]),ce=(0,h.useCallback)((()=>{const{message:e,status:n}=ue();return(0,i.Y)(v.m,{title:e,placement:"top",children:(0,i.Y)(x.F.InfoCircleOutlined,{iconSize:"m",iconColor:"error"===n?t.colorError:t.colorIcon,className:"tooltip-icon"})})}),[ue]);(0,h.useEffect)((()=>{if(void 0!==j)switch(j){case S.y.Minimum:case S.y.Exact:null!==_[1]&&ae(null,1);break;case S.y.Maximum:null!==_[0]&&ae(null,0)}s({extraFormData:{},filterState:{value:null,label:""}})}),[j]);const me=()=>void 0!==j?(0,i.Y)(A,{children:(0,i.Y)(g.A,{min:O,max:B,value:Array.isArray(te)?te[0]:te,onChange:se,tooltip:{formatter:e=>null!==e?N(e):""}})}):(0,i.Y)(A,{children:(0,i.Y)(g.A,{min:O,max:B,range:!0,value:Array.isArray(te)?te:[O,te],onChange:se,tooltip:{formatter:e=>null!==e?N(e):""}})}),he=()=>(0,i.FD)($,{tabIndex:-1,ref:T,onFocus:k,onBlur:W,onMouseEnter:z,onMouseLeave:H,onMouseDown:()=>V(!0),onMouseUp:()=>V(!1),children:[(void 0===j||j===S.y.Minimum||j===S.y.Exact)&&(0,i.Y)(f.A,{value:_[0],onChange:e=>ae(e,0),onKeyDown:oe,placeholder:`${O}`,style:{width:"100%"},status:D.validateStatus}),void 0===j&&(0,i.Y)(I,{children:"-"}),(void 0===j||j===S.y.Maximum)&&(0,i.Y)(f.A,{value:_[1],onChange:e=>ae(e,1),onKeyDown:oe,placeholder:`${B}`,style:{width:"100%"},status:D.validateStatus})]});return(0,i.Y)(w.j3,{height:r,width:a,children:Number.isNaN(Number(O))||Number.isNaN(Number(B))?(0,i.Y)("h4",{children:(0,u.t)("Chosen non-numeric column")}):(0,i.Y)(b.e,{"aria-labelledby":`filter-name-${l.nativeFilterId}`,children:U!==p.QI.Horizontal||R?(0,i.Y)(i.FK,{children:(0,i.FD)("div",{style:{position:"relative"},children:[R&&(0,i.Y)(F,{children:(0,i.Y)(ce,{})}),(X===y.l.Slider||X===y.l.SliderAndInput)&&me(),(X===y.l.Input||X===y.l.SliderAndInput)&&he(),(0,i.Y)(de,{})]})}):(0,i.Y)(C,{children:(0,i.FD)("div",{className:"controls-container",children:[(0,i.Y)(ce,{}),(X===y.l.Slider||X===y.l.SliderAndInput)&&(0,i.Y)("div",{className:"slider-wrapper",children:(0,i.Y)("div",{className:"slider-container",children:me()})}),(X===y.l.Input||X===y.l.SliderAndInput)&&(0,i.Y)("div",{className:"inputs-container",children:he()})]})})})})}},2259:(e,t,n)=>{n.d(t,{SO:()=>a,Sg:()=>s,pA:()=>o});var l=n(7683),r=n(93590),i=n(52451);const o=(e,t,n=!1,l=!1)=>{const r={};return n?r.adhoc_filters=[{expressionType:i.A.Sql,clause:i.v.Where,sqlExpression:"1 = 0"}]:null!=t&&0!==t.length&&(r.filters=[{col:e,op:l?"NOT IN":"IN",val:t}]),r},a=(e,t,n)=>{const l=[];return null!=t&&t!==n&&l.push({col:e,op:">=",val:t}),null!=n&&n!==t&&l.push({col:e,op:"<=",val:n}),null!=n&&null!=t&&n===t&&l.push({col:e,op:"==",val:n}),l.length?{filters:l}:{}};function s({timeFormatter:e,numberFormatter:t}={}){return(n,i)=>{if(null==n)return r.mu;if("boolean"==typeof n)return n?r.PU:r.qC;if(i===l.s.Boolean)try{return JSON.parse(String(n).toLowerCase())?r.PU:r.qC}catch{return r.qC}return"string"==typeof n?n:"bigint"==typeof n?String(n):e&&i===l.s.Temporal?e(n):t&&"number"==typeof n&&i===l.s.Numeric?t(n):String(n)}}},13130:(e,t,n)=>{n.d(t,{A:()=>d});const l=e=>"object"==typeof e&&null!=e&&1===e.nodeType,r=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,i=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return r(n.overflowY,t)||r(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},o=(e,t,n,l,r,i,o,a)=>i<e&&o>t||i>e&&o<t?0:i<=e&&a<=n||o>=t&&a>=n?i-e-l:o>t&&a<n||i<e&&a>n?o-t+r:0,a=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},s=(e,t)=>{var n,r,s,u;if("undefined"==typeof document)return[];const{scrollMode:d,block:c,inline:m,boundary:h,skipOverflowHiddenElements:p}=t,f="function"==typeof h?h:e=>e!==h;if(!l(e))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,v=[];let x=e;for(;l(x)&&f(x);){if(x=a(x),x===g){v.push(x);break}null!=x&&x===document.body&&i(x)&&!i(document.documentElement)||null!=x&&i(x,p)&&v.push(x)}const b=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,y=null!=(u=null==(s=window.visualViewport)?void 0:s.height)?u:innerHeight,{scrollX:w,scrollY:M}=window,{height:S,width:I,top:$,right:A,bottom:F,left:C}=e.getBoundingClientRect(),{top:N,right:Y,bottom:E,left:k}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let W="start"===c||"nearest"===c?$-N:"end"===c?F+E:$+S/2-N+E,z="center"===m?C+I/2-k+Y:"end"===m?A+Y:C-k;const H=[];for(let e=0;e<v.length;e++){const t=v[e],{height:n,width:l,top:r,right:a,bottom:s,left:u}=t.getBoundingClientRect();if("if-needed"===d&&$>=0&&C>=0&&F<=y&&A<=b&&(t===g&&!i(t)||$>=r&&F<=s&&C>=u&&A<=a))return H;const h=getComputedStyle(t),p=parseInt(h.borderLeftWidth,10),f=parseInt(h.borderTopWidth,10),x=parseInt(h.borderRightWidth,10),N=parseInt(h.borderBottomWidth,10);let Y=0,E=0;const k="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-x:0,V="offsetHeight"in t?t.offsetHeight-t.clientHeight-f-N:0,D="offsetWidth"in t?0===t.offsetWidth?0:l/t.offsetWidth:0,T="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(g===t)Y="start"===c?W:"end"===c?W-y:"nearest"===c?o(M,M+y,y,f,N,M+W,M+W+S,S):W-y/2,E="start"===m?z:"center"===m?z-b/2:"end"===m?z-b:o(w,w+b,b,p,x,w+z,w+z+I,I),Y=Math.max(0,Y+M),E=Math.max(0,E+w);else{Y="start"===c?W-r-f:"end"===c?W-s+N+V:"nearest"===c?o(r,s,n,f,N+V,W,W+S,S):W-(r+n/2)+V/2,E="start"===m?z-u-p:"center"===m?z-(u+l/2)+k/2:"end"===m?z-a+x+k:o(u,a,l,p,x+k,z,z+I,I);const{scrollLeft:e,scrollTop:i}=t;Y=0===T?0:Math.max(0,Math.min(i+Y/T,t.scrollHeight-n/T+V)),E=0===D?0:Math.max(0,Math.min(e+E/D,t.scrollWidth-l/D+k)),W+=i-Y,z+=e-E}H.push({el:t,top:Y,left:E})}return H},u=e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"};function d(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(s(e,t));const l="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:r,top:i,left:o}of s(e,u(t))){const e=i-n.top+n.bottom,t=o-n.left+n.right;r.scroll({top:e,left:t,behavior:l})}}},17102:(e,t,n)=>{n.d(t,{Mo:()=>a,YH:()=>i,j3:()=>o});var l=n(50290),r=n(82384);const i=0,o=l.I4.div`
  min-height: ${({height:e})=>e}px;
  width: ${({width:e})=>e===i?"100%":`${e}px`};
`,a=((0,l.I4)(r.e)`
  &.ant-row.ant-form-item {
    margin: 0;
  }
`,l.I4.div`
  color: ${({theme:e,status:t="error"})=>{if("help"===t)return e.colorTextSecondary;switch(t){case"error":default:return e.colorError;case"warning":return e.colorWarning;case"info":return e.colorInfo}}};
  text-align: ${({centerText:e})=>e?"center":"left"};
  width: 100%;
`)},52451:(e,t,n)=>{var l,r;n.d(t,{A:()=>l,v:()=>r}),function(e){e.Simple="SIMPLE",e.Sql="SQL"}(l||(l={})),function(e){e.Having="HAVING",e.Where="WHERE"}(r||(r={}))},68326:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(2445),r=n(6531);function i(e){return(0,l.Y)(r.A,{...e})}},70372:(e,t,n)=>{var l;n.d(t,{l:()=>l}),function(e){e.Slider="slider",e.Input="input",e.SliderAndInput="slider-and-input"}(l||(l={}))},82384:(e,t,n)=>{n.d(t,{e:()=>r});var l=n(89467);const r=(0,n(50290).I4)(l.A.Item)`
  ${({theme:e})=>`\n    &.ant-form-item > .ant-row > .ant-form-item-label {\n      padding-bottom: ${e.paddingXXS}px;\n    }\n    .ant-form-item-label {\n      & > label {\n        font-size: ${e.fontSizeSM}px;\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            visibility: visible;\n            color: ${e.colorError};\n            font-size: ${e.fontSizeSM}px;\n            content: '*';\n          }\n        }\n      }\n    }\n    .ant-form-item-extra {\n      margin-top: ${e.sizeUnit}px;\n      font-size: ${e.fontSizeSM}px;\n    }\n  `}
`}}]);