Metadata-Version: 2.4
Name: FunpayACE
Version: 0.1.0
Summary: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Funpay
Author: Looko
License: MIT
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: aiohttp<4.0,>=3.7
Requires-Dist: beautifulsoup4>=4.9.3
Dynamic: license-file

# FunpayACE 0.1.0

\
–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ Funpay: ¬´–≤–µ—á–Ω—ã–π –æ–Ω–ª–∞–π–Ω¬ª, –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ –ª–æ—Ç–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ ‚Äî —Ç–µ–ø–µ—Ä—å –Ω–∞–¥—ë–∂–Ω–µ–µ –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω–µ–µ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -U funpayace
```

Python 3.9+

---

## ‚ö°Ô∏è –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ 0.1.0

- –£—Å—Ç–æ–π—á–∏–≤–µ–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: `CookieJar` + –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Cookie`, ¬´—Ä–∞–∑–æ–≥—Ä–µ–≤¬ª —Å–µ—Å—Å–∏–∏ –∏ –∞–≤—Ç–æ-–ø–æ–∏—Å–∫ CSRF.
- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏ —Å –¥–∂–∏—Ç—Ç–µ—Ä–æ–º –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.
- –ï–¥–∏–Ω—ã–π `ClientSession` —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –ª–∞–π—Ñ—Å–∞–π–∫–ª–æ–º (`async with` / `aclose()`).
- –ñ–∏–≤—É—á–∏–π –ø–∞—Ä—Å–µ—Ä –±–∞–ª–∞–Ω—Å–∞ (HTML/—Ç–µ–∫—Å—Ç/–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JSON).
- –£–¥–æ–±–Ω—ã–µ —Ä–∞–Ω–Ω–µ—Ä—ã: –∑–∞–ø—É—Å–∫ –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–µ **—Ç–∞—Å–∫–∏** –∏–ª–∏ –≤ **–æ—Ç–¥–µ–ª—å–Ω–æ–π –Ω–∏—Ç–∏**.
- –ö–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ `FunpayConfig` (—Ç–∞–π–º–∞—É—Ç—ã, —á–∞—Å—Ç–æ—Ç—ã, ssl, debug).
- –ê–∫—É—Ä–∞—Ç–Ω—ã–µ –ª–æ–≥–∏, –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∫–æ–Ω—Ñ–∏–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## üîß –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```python
import asyncio
import logging
from funpayace import FunpayAce, FunpayConfig

logging.basicConfig(level=logging.INFO)

GOLDEN_KEY = "–≤–∞—à_golden_key"
GAME_ID = 224
NODE_ID = 2424

async def main():
    client = FunpayAce(golden_key=GOLDEN_KEY, config=FunpayConfig())
    async with client:
        # –ó–∞–ø—É—Å–∫–∞–µ–º —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
        client.start_forever_online_task()
        client.start_lot_auto_boost_task(GAME_ID, NODE_ID)

        # –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞
        try:
            while True:
                try:
                    balance = await client.get_balance()
                    print("–ë–∞–ª–∞–Ω—Å:", balance)
                except Exception as e:
                    logging.exception("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å: %s", e)
                await asyncio.sleep(30)
        finally:
            await client.cancel_background_tasks()

if __name__ == "__main__":
    asyncio.run(main())
```

### –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –Ω–∏—Ç–∏

```python
import time
from funpayace import FunpayAce

client = FunpayAce(golden_key="–≤–∞—à_golden_key")
# ¬´–í–µ—á–Ω—ã–π –æ–Ω–ª–∞–π–Ω¬ª –∏ –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ ‚Äî –≤ —Ñ–æ–Ω–æ–≤—ã—Ö –Ω–∏—Ç—è—Ö
client.run_forever_online_in_thread()
client.run_lot_auto_boost_in_thread(game_id=224, node_id=2424)

try:
    while True:
        time.sleep(1)
except KeyboardInterrupt:
    pass
```

> ‚ùóÔ∏è `golden_key` ‚Äî cookie –≤–∞—à–µ–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏ Funpay. –û–Ω –º–æ–∂–µ—Ç –ø—Ä–æ—Ç—É—Ö–∞—Ç—å –∏–ª–∏ –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `HTTP 403: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è`, –æ–±–Ω–æ–≤–∏—Ç–µ –∫–ª—é—á.

---

## üìò API

### –ö–ª–∞—Å—Å

```python
FunpayAce(golden_key: str, config: FunpayConfig = FunpayConfig())
```

### –ú–µ—Ç–æ–¥—ã (async)

- `await forever_online()` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–Ω–ª–∞–π–Ω (POST `/runner/`) –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ.
- `await lot_auto_boost(game_id: int, node_id: int)` ‚Äî –∞–≤—Ç–æ–ø–æ–¥–Ω—è—Ç–∏–µ –ª–æ—Ç–æ–≤ (POST `/lots/raise`) –≤ —Ü–∏–∫–ª–µ.
- `await get_balance() -> dict[str, float]` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∞–ª–∞–Ω—Å—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä:
  ```python
  {"RUB": 123.45, "USD": 12.34, "EUR": 5.67}
  ```

### –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ

- `start_forever_online_task()` / `start_lot_auto_boost_task(game_id, node_id)`
- `run_forever_online_in_thread()` / `run_lot_auto_boost_in_thread(game_id, node_id)`

### –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ

- `await aclose()` ‚Äî –∑–∞–∫—Ä—ã—Ç—å HTTP-—Å–µ—Å—Å–∏—é.
- `await cancel_background_tasks()` ‚Äî –æ—Ç–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ñ–æ–Ω–æ–≤—ã–µ —Ç–∞—Å–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞.

---

## üõ† –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```python
from funpayace import FunpayConfig

cfg = FunpayConfig(
    base_url="https://funpay.com",
    user_agent="Mozilla/5.0 ...",   # –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π UA
    request_timeout=20.0,
    connector_limit=10,
    max_retries=4,
    backoff_base=0.75,
    backoff_max=8.0,
    ping_interval_min=45.0,
    ping_interval_max=100.0,
    raise_interval_min=60.0,
    raise_interval_max=300.0,
    ssl=True,
    send_cookie_header_always=True,
    debug_auth=False
)
```

---

## üß© –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- `RequestError` ‚Äî —Å–µ—Ç–µ–≤—ã–µ/HTTP –æ—à–∏–±–∫–∏ –ø–æ—Å–ª–µ —Ä–µ—Ç—Ä–∞–µ–≤ (–≤–∫–ª—é—á–∞—è `403`).
- `BalanceParseError` ‚Äî –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –±–∞–ª–∞–Ω—Å.

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å 0.0.x ‚Üí 0.1.0

- –¢–µ–ø–µ—Ä—å –≤—Å—ë –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω event loop –∏ `start_*_task()`.
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å—Ç–∞–ª–∞ —Å—Ç—Ä–æ–∂–µ ‚Üí warm-up + CSRF –¥–µ–ª–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
- –ü–∞—Ä—Å–µ—Ä –±–∞–ª–∞–Ω—Å–∞ —Å—Ç–∞–ª –≥–∏–±—á–µ.

---

## üì¶ –í–µ—Ä—Å–∏–∏

### 0.1.0 ‚Äî 2025-08-17

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: warm-up, CSRF, CookieJar + –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Cookie`.
- –†–µ—Ç—Ä–∞–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –±—ç–∫-–æ—Ñ—Ñ–æ–º.
- –ù–æ–≤—ã–π –∂–∏–≤—É—á–∏–π –ø–∞—Ä—Å–µ—Ä `get_balance`.
- –£–¥–æ–±–Ω—ã–µ —Ñ–æ–Ω–æ–≤—ã–µ —Ä–∞–Ω–Ω–µ—Ä—ã (—Ç–∞—Å–∫–∏/–Ω–∏—Ç–∏).
- –ö–æ–Ω—Ñ–∏–≥ `FunpayConfig` + —Ä–µ–∂–∏–º `debug_auth`.

### 0.0.5 ‚Äî 2025-06-02

- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ; –¥–æ–±–∞–≤–ª–µ–Ω `get_balance()`.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ‚Äî —Å–º. —Ñ–∞–π–ª LICENSE.

---

## ‚òï –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–ª–µ–∑–Ω–∞ ‚Äî –∑–≤–µ–∑–¥–∞ –Ω–∞ GitHub –æ—á–µ–Ω—å –ø–æ–º–æ–≥–∞–µ—Ç ‚≠ê\
–¢–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª: [https://t.me/funpayace](https://t.me/funpayace)

