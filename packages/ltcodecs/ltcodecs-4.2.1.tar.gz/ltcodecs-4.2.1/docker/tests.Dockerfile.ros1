ARG BASE_IMAGE=ros:noetic-ros-base
FROM ${BASE_IMAGE}

# first lets ensure the GPG key is up to date
RUN apt update; \
    apt upgrade -y; \
    apt install -y \
        curl

RUN rm /etc/apt/sources.list.d/ros1*
RUN curl -s https://raw.githubusercontent.com/ros/rosdistro/master/ros.asc | sudo apt-key add -

# Now lets get what else we need
RUN apt update; \
    apt upgrade -y; \
    apt install -y \
        python3-pip \
        python3-venv \
        curl \
        git \
        socat
RUN pip install pytest pytest-cov
