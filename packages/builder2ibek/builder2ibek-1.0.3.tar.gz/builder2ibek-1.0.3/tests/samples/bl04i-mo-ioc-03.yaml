# yaml-language-server: $schema=/epics/ibek-defs/ioc.schema.json

ioc_name: "{{  _global.get_env('IOC_NAME') }}"

description: auto-generated by https://github.com/epics-containers/builder2ibek

entities:

  - type: epics.EpicsEnvSet
    name: EPICS_TS_MIN_WEST
    value: '0'

  - type: epics.EpicsEnvSet
    name: STREAM_PROTOCOL_PATH
    value: /epics/runtime/protocol/

  - type: devIocStats.iocAdminSoft
    IOC: '{{ ioc_name | upper }}'

  - type: BL04I.auto_BL04I_flux
    dom: BL04I

  - type: pmac.pmacAsynIPPort
    IP: 172.23.104.167
    name: BRICK_1

  - type: pmac.pmacAsynIPPort
    IP: 172.23.104.168
    name: BRICK_2

  - type: pmac.pmacAsynIPPort
    IP: 172.23.104.169
    name: BRICK_3

  - type: pmac.pmacAsynIPPort
    IP: 172.23.104.170
    name: BRICK_4

  - type: pmac.GeoBrick
    P: BL04I-MO-STEP-01
    name: GeoBrick_1
    pmacAsynPort: BRICK_1

  - type: pmac.GeoBrick
    P: BL04I-MO-STEP-02
    name: GeoBrick_2
    pmacAsynPort: BRICK_2

  - type: pmac.GeoBrick
    P: BL04I-MO-STEP-03
    name: GeoBrick_3
    pmacAsynPort: BRICK_3

  - type: pmac.GeoBrick
    P: BL04I-MO-STEP-04
    name: GeoBrick_4
    pmacAsynPort: BRICK_4

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 1
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_4
    DESC: FSWT Upstream X
    DHLM: 7
    DIR: Pos
    DLLM: -2
    DTYP: asynMotor
    EGU: mm
    ERES: 5e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-FSWT-01
    HOMEVIS: 0
    JAR: 1
    M: :UPSTREAMX
    MRES: 5e-05
    OFF: 0
    P: BL04I-MO-FSWT-01
    PREC: 5
    RDBD: 5e-05
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.075
    VMAX: 0.075

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 2
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_4
    DESC: FSWT Downstream X
    DHLM: 5
    DIR: Pos
    DLLM: -2
    DTYP: asynMotor
    EGU: mm
    ERES: 5e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-FSWT-01
    HOMEVIS: 0
    JAR: 1
    M: :DOWNSTREAMX
    MRES: 5e-05
    OFF: 0
    P: BL04I-MO-FSWT-01
    PREC: 5
    RDBD: 5e-05
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.075
    VMAX: 0.075

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 3
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_4
    DESC: FSWT Upstream Y
    DHLM: 7.8
    DIR: Pos
    DLLM: -10
    DTYP: asynMotor
    EGU: mm
    ERES: 5e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-FSWT-01
    HOMEVIS: 0
    JAR: 1
    M: :UPSTREAMY
    MRES: 5e-05
    OFF: 0
    P: BL04I-MO-FSWT-01
    PREC: 5
    RDBD: 5e-05
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.075
    VMAX: 0.075

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 4
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_4
    DESC: FSWT Downstream Y
    DHLM: 16.8
    DIR: Pos
    DLLM: -10
    DTYP: asynMotor
    EGU: mm
    ERES: 5e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-FSWT-01
    HOMEVIS: 0
    JAR: 1
    M: :DOWNSTREAMY
    MRES: 5e-05
    OFF: 0
    P: BL04I-MO-FSWT-01
    PREC: 5
    RDBD: 5e-05
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.075
    VMAX: 0.075

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.08
    ADDR: 2
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Mini Beam Apertures X
    DHLM: 5
    DIR: Pos
    DLLM: -5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-MAPT-01:XZ
    HOMEVIS: 0
    JAR: 1
    M: :X
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-MAPT-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 7.5
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 7
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_2
    DESC: Mini Beam Apertures Y
    DHLM: 50
    DIR: Neg
    DLLM: -50.2
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0004
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-MAPT-01:Y
    HOMEVIS: 0
    JAR: 1
    M: :Y
    MRES: 0.0004
    OFF: 0
    P: BL04I-MO-MAPT-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 20
    VMAX: 20

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 3
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Mini Beam Apertures Z
    DHLM: 15.5
    DIR: Neg
    DLLM: -17
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-MAPT-01:XZ
    HOMEVIS: 0
    JAR: 1
    M: :Z
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-MAPT-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 10
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 4
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Scatter Guard X
    DHLM: 5
    DIR: Pos
    DLLM: -5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-SCAT-01
    HOMEVIS: 0
    JAR: 1
    M: :X
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-SCAT-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 5
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 5
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Scatter Guard Y
    DHLM: 5
    DIR: Pos
    DLLM: -5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-SCAT-01
    HOMEVIS: 0
    JAR: 1
    M: :Y
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-SCAT-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 7
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 1
    ADDR: 4
    ADEL: 0
    BACC: 0.1
    BDST: 0.1
    BVEL: 0.2
    Controller: GeoBrick_2
    DESC: S4 X Translation
    DHLM: 0.2
    DIR: Pos
    DLLM: -14.5
    DTYP: asynMotor
    EGU: mm
    ERES: 1.00625e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-AL-SLITS-04
    HOMEVIS: 0
    JAR: 1
    M: :X
    MRES: 1.00625e-05
    OFF: 7.74383582973
    P: BL04I-AL-SLITS-04
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.2
    VMAX: 0.2

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 1
    ADDR: 3
    ADEL: 0
    BACC: 0.1
    BDST: 0.1
    BVEL: 0.5
    Controller: GeoBrick_2
    DESC: S4 X Gap Size
    DHLM: 0.5
    DIR: Pos
    DLLM: -8.3
    DTYP: asynMotor
    EGU: mm
    ERES: 2.540625e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-AL-SLITS-04
    HOMEVIS: 0
    JAR: 1
    M: :XGAP
    MRES: 2.540625e-05
    OFF: 6.718
    P: BL04I-AL-SLITS-04
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.5
    VMAX: 0.5

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 1
    ADDR: 6
    ADEL: 0
    BACC: 0.1
    BDST: 0.1
    BVEL: 0.2
    Controller: GeoBrick_2
    DESC: S4 Y Translation
    DHLM: 0.2
    DIR: Pos
    DLLM: -14
    DTYP: asynMotor
    EGU: mm
    ERES: 1.00625e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-AL-SLITS-04
    HOMEVIS: 0
    JAR: 1
    M: :Y
    MRES: 1.00625e-05
    OFF: 7.37141558383
    P: BL04I-AL-SLITS-04
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.2
    VMAX: 0.2

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 1
    ADDR: 5
    ADEL: 0
    BACC: 0.1
    BDST: 0.1
    BVEL: 0.5
    Controller: GeoBrick_2
    DESC: S4 Y Gap Size
    DHLM: -1.721559
    DIR: Pos
    DLLM: -7.2
    DTYP: asynMotor
    EGU: mm
    ERES: 2.540625e-05
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-AL-SLITS-04
    HOMEVIS: 0
    JAR: 1
    M: :YGAP
    MRES: 2.540625e-05
    OFF: 6.925559
    P: BL04I-AL-SLITS-04
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.5
    VMAX: 0.5

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 3
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_3
    DESC: Samp. Centering Y
    DHLM: 4.069978
    DIR: Pos
    DLLM: 0.969978
    DTYP: asynMotor
    EGU: mm
    ERES: 8.4375e-06
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-GONIO-01:SAMP
    HOMEVIS: 0
    JAR: 1
    M: :CENTREY
    MRES: 8.4375e-06
    OFF: -2.519978
    P: BL04I-MO-GONIO-01
    PREC: 5
    RDBD: 0.0025
    RRES: 0
    SREV: 182400
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.2
    VMAX: 0.2

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 4
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_3
    DESC: Samp. Centering Z
    DHLM: 4.05
    DIR: Pos
    DLLM: 0.95
    DTYP: asynMotor
    EGU: mm
    ERES: 8.4375e-06
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-GONIO-01:SAMP
    HOMEVIS: 0
    JAR: 1
    M: :CENTREZ
    MRES: 8.4375e-06
    OFF: -2.5
    P: BL04I-MO-GONIO-01
    PREC: 5
    RDBD: 0.0025
    RRES: 0
    SREV: 182400
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 0.2
    VMAX: 0.2

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 7
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Plate Centering Y
    DHLM: 50
    DIR: Pos
    DLLM: -50
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-GONIO-01:PLATE
    HOMEVIS: 0
    JAR: 1
    M: :PLATEY
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-GONIO-01
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 10
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.2
    ADDR: 8
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Plate Centering Z
    DHLM: 12.5
    DIR: Pos
    DLLM: -12.5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-GONIO-01:PLATE
    HOMEVIS: 0
    JAR: 1
    M: :PLATEZ
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-GONIO-01
    PREC: 5
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 10
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 1
    ADDR: 5
    ADEL: 0
    BACC: 1
    BDST: 10
    BVEL: 30
    Controller: GeoBrick_3
    DESC: Phi
    DHLM: 0
    DIR: Pos
    DLLM: 0
    DTYP: asynMotor
    EGU: deg
    ERES: 0.00219727
    FOFF: Variable
    HLSV: NO_ALARM
    HOMEVIS: 0
    JAR: 30
    M: :PHI
    MRES: 0.00219727
    OFF: 0
    P: BL04I-MO-GONIO-01
    PREC: 7
    RDBD: 0.00219727
    RRES: 0
    SREV: 200
    TWV: 0
    UEIP: No
    VBAS: 0
    VELO: 30
    VMAX: 30

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.5
    ADDR: 6
    ADEL: 0
    BACC: 0.5
    BDST: -3
    BVEL: 15
    Controller: GeoBrick_3
    DESC: Kappa
    DHLM: 252.5
    DIR: Pos
    DLLM: -10.5
    DTYP: asynMotor
    EGU: deg
    ERES: 0.00054932
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-GONIO-01:KAPPA
    HOMEVIS: 0
    JAR: 1
    M: :KAPPA
    MRES: 0.00054932
    OFF: -4
    P: BL04I-MO-GONIO-01
    PREC: 7
    RDBD: 0.00054932
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 15
    VMAX: 15

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 1
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_2
    DESC: Scintillator Y
    DHLM: 0.5
    DIR: Neg
    DLLM: -103.5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0003125
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-SCIN-01
    HOMEVIS: 0
    JAR: 1
    M: :Y
    MRES: 0.0003125
    OFF: 0
    P: BL04I-MO-SCIN-01
    PREC: 4
    RDBD: 0.00031
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 20
    VMAX: 20

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 2
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_2
    DESC: Scintillator Z
    DHLM: 0
    DIR: Neg
    DLLM: -103.5
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0003125
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-SCIN-01
    HOMEVIS: 0
    JAR: 1
    M: :Z
    MRES: 0.0003125
    OFF: 0
    P: BL04I-MO-SCIN-01
    PREC: 4
    RDBD: 0.00031
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 20
    VMAX: 20

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 1
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_1
    DESC: Beamstop X
    DHLM: 4.5
    DIR: Pos
    DLLM: -4.95
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0001
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-BS-01:X
    HOMEVIS: 0
    JAR: 1
    M: :X
    MRES: 0.0001
    OFF: 0
    P: BL04I-MO-BS-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 10
    VMAX: 10

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 1
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 0
    Controller: GeoBrick_3
    DESC: Beamstop Y
    DHLM: 50
    DIR: Neg
    DLLM: -60
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0004
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-BS-01:YZ
    HOMEVIS: 0
    JAR: 1
    M: :Y
    MRES: 0.0004
    OFF: 0
    P: BL04I-MO-BS-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 20
    VMAX: 20

  - type: pmac.dls_pmac_asyn_motor
    ACCL: 0.1
    ADDR: 2
    ADEL: 0
    BACC: 0.1
    BDST: 0
    BVEL: 1
    Controller: GeoBrick_3
    DESC: Beamstop Z
    DHLM: 55.5
    DIR: Neg
    DLLM: -58
    DTYP: asynMotor
    EGU: mm
    ERES: 0.0004
    FOFF: Variable
    HLSV: MAJOR
    HOME: BL04I-MO-BS-01:YZ
    HOMEVIS: 0
    JAR: 1
    M: :Z
    MRES: 0.0004
    OFF: 0
    P: BL04I-MO-BS-01
    PREC: 4
    RDBD: 0.0001
    RRES: 0
    SREV: 200
    TWV: 1
    UEIP: No
    VBAS: 0
    VELO: 20
    VMAX: 20

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:X
    alias: BL04I-AL-SLITS-04:X:CENTER

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:Y
    alias: BL04I-AL-SLITS-04:Y:CENTER

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:XGAP
    alias: BL04I-AL-SLITS-04:X:SIZE

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:YGAP
    alias: BL04I-AL-SLITS-04:Y:SIZE

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:X
    alias: BL04I-AL-SLITS-04:X:CENTRE

  - type: BL04I.auto_asynMotorAlias
    P: BL04I-AL-SLITS-04:Y
    alias: BL04I-AL-SLITS-04:Y:CENTRE

  - type: epics.dbpf
    pv: BL04I-MO-STEP-04:AXIS5:DESC
    value: "{'FSWT Transition'}"

  - type: epics.dbpf
    pv: BL04I-MO-STEP-04:AXIS6:DESC
    value: "{'FSWT Rocker'}"

  - type: positioner.multipositioner
    DESC: Mini Apertures X
    MP: :X:MP
    P: BL04I-MO-MAPT-01
    STRA: LARGE_APERTURE
    STRB: MEDIUM_APERTURE
    STRC: SMALL_APERTURE
    STRD: ROBOT_LOAD
    STRE: MANUAL_LOAD
    name: MAPT.OB1

  - type: positioner.multipositioner
    DESC: Mini Apertures Y
    MP: :Y:MP
    P: BL04I-MO-MAPT-01
    STRA: LARGE_APERTURE
    STRB: MEDIUM_APERTURE
    STRC: SMALL_APERTURE
    STRD: ROBOT_LOAD
    STRE: MANUAL_LOAD
    name: MAPT.OB2

  - type: positioner.multipositioner
    DESC: Mini Apertures Z
    MP: :Z:MP
    P: BL04I-MO-MAPT-01
    STRA: LARGE_APERTURE
    STRB: MEDIUM_APERTURE
    STRC: SMALL_APERTURE
    STRD: ROBOT_LOAD
    STRE: MANUAL_LOAD
    name: MAPT.OB3

  - type: positioner.multipositioner
    DESC: Scintillator Y
    MP: :Y:MP
    P: BL04I-MO-SCIN-01
    STRA: Out
    STRB: In
    name: SCIN.OB1

  - type: positioner.multipositioner
    DESC: Scintillator Z
    MP: :Z:MP
    P: BL04I-MO-SCIN-01
    STRA: Out
    STRB: In
    name: SCIN.OB2

  - type: positioner.multipositioner
    DESC: Beamstop X
    MP: :X:MP
    P: BL04I-MO-BS-01
    STRA: DataCollection_Low
    STRB: DataCollection_Std
    STRC: DataCollection_High
    STRD: RobotLoad
    STRE: ManualLoad
    name: BS.OB1

  - type: positioner.multipositioner
    DESC: Beamstop Y
    MP: :Y:MP
    P: BL04I-MO-BS-01
    STRA: DataCollection_Low
    STRB: DataCollection_Std
    STRC: DataCollection_High
    STRD: RobotLoad
    STRE: ManualLoad
    name: BS.OB2

  - type: positioner.multipositioner
    DESC: Beamstop Z
    MP: :Z:MP
    P: BL04I-MO-BS-01
    STRA: DataCollection_Low
    STRB: DataCollection_Std
    STRC: DataCollection_High
    STRD: RobotLoad
    STRE: ManualLoad
    name: BS.OB3

  - type: positioner.multipositioner
    DESC: Scatter Guard X
    MP: :X:MP
    P: BL04I-MO-SCAT-01
    STRA: DataCollection
    STRB: RobotLoad
    STRC: ManualLoad
    name: SCAT.OB1

  - type: positioner.multipositioner
    DESC: Scatter Guard Y
    MP: :Y:MP
    P: BL04I-MO-SCAT-01
    STRA: DataCollection
    STRB: RobotLoad
    STRC: ManualLoad
    name: SCAT.OB2

  - type: positioner.motorpositioner
    DESC: Mini Aperture X
    MP: MAPT.OB1
    PREC: 5
    Q: :X:P
    VALF: 0
    motor: MAPT.X
    name: MAPT.XP

  - type: positioner.motorpositioner
    DESC: Mini Aperture Y
    MP: MAPT.OB2
    PREC: 5
    Q: :Y:P
    VALA: 41.81
    VALB: 45.2448
    VALC: 41.8096
    VALD: 24.9
    VALE: -48.9496
    motor: MAPT.Y
    name: MAPT.YP

  - type: positioner.motorpositioner
    DESC: Mini Aperture Z
    MP: MAPT.OB3
    PREC: 5
    Q: :Z:P
    VALA: 16.9
    VALB: 16.8999
    VALC: 16.8999
    VALD: 16.9
    VALE: -12.0002
    motor: MAPT.Z
    name: MAPT.ZP

  - type: positioner.motorpositioner
    DESC: Scintillator Y
    MP: SCIN.OB1
    PREC: 5
    Q: :Y:P
    VALA: -0.09937
    VALB: 97.25063
    VALC: 0
    motor: SCIN.Y
    name: SCIN.YP

  - type: positioner.motorpositioner
    DESC: Scintillator Z
    MP: SCIN.OB2
    PREC: 5
    Q: :Z:P
    VALA: 0.20063
    VALB: 93.87063
    VALC: 0
    motor: SCIN.Z
    name: SCIN.ZP

  - type: positioner.motorpositioner
    DESC: Beamstop X
    MP: BS.OB1
    PREC: 5
    Q: :X:P
    VALA: -2.7001
    VALB: -2.7001
    VALC: -2.7001
    VALD: -2.7001
    VALE: 4.4801
    motor: BS.X
    name: BS.XP

  - type: positioner.motorpositioner
    DESC: Beamstop Y
    MP: BS.OB2
    PREC: 5
    Q: :Y:P
    VALA: 45.72
    VALB: 45.7588
    VALC: 45.7588
    VALD: 45.7588
    VALE: -49.1
    motor: BS.Y
    name: BS.YP

  - type: positioner.motorpositioner
    DESC: Beamstop Z
    MP: BS.OB3
    PREC: 5
    Q: :Z:P
    VALA: 49.5
    VALB: 25.0004
    VALC: 25.0004
    VALD: 49.1496
    VALE: -49.3016
    motor: BS.Z
    name: BS.ZP

  - type: positioner.motorpositioner
    DESC: Scatter Guard X
    MP: SCAT.OB1
    PREC: 5
    Q: :X:P
    VALA: 4.7801
    VALB: 4.7802
    VALC: -3
    VALD: 0
    motor: SCAT.X
    name: SCAT.XP

  - type: positioner.motorpositioner
    DESC: Scatter Guard Y
    MP: SCAT.OB2
    PREC: 5
    Q: :Y:P
    VALA: 4.6369
    VALB: 4.6369
    VALC: -4.4001
    motor: SCAT.Y
    name: SCAT.YP

  - type: pmac.pmacDisableLimitsCheck
    Axis: 1
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 2
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 3
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 4
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 5
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 6
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 7
    Controller: GeoBrick_1

  - type: pmac.pmacDisableLimitsCheck
    Axis: 5
    Controller: GeoBrick_3

  - type: pmac.pmacDisableLimitsCheck
    Axis: 6
    Controller: GeoBrick_4

  - type: pmac.autohome
    GRP2: X Translation
    P: BL04I-MO-BS-01:X
    PLC: 10
    PmacController: GeoBrick_1

  - type: pmac.autohome
    GRP2: X Translation
    GRP3: Z Translation
    P: BL04I-MO-MAPT-01:XZ
    PLC: 11
    PmacController: GeoBrick_1

  - type: pmac.autohome
    GRP2: X Translation
    GRP3: Y Translation
    P: BL04I-MO-SCAT-01
    PLC: 12
    PmacController: GeoBrick_1

  - type: pmac.autohome
    GRP2: Y Translation
    GRP3: Z Translation
    P: BL04I-MO-GONIO-01:PLATE
    PLC: 13
    PmacController: GeoBrick_1

  - type: pmac.autohome
    GRP2: Y Translation
    GRP3: Z Translation
    P: BL04I-MO-SCIN-01
    PLC: 10
    PmacController: GeoBrick_2

  - type: pmac.autohome
    GRP2: X Translation
    GRP3: X Gap
    GRP4: Y Translation
    GRP5: Y Gap
    P: BL04I-AL-SLITS-04
    PLC: 11
    PmacController: GeoBrick_2

  - type: pmac.autohome
    GRP2: Y Translation
    P: BL04I-MO-MAPT-01:Y
    PLC: 12
    PmacController: GeoBrick_2

  - type: pmac.autohome
    GRP2: Y Translation
    GRP3: Z Translation
    P: BL04I-MO-BS-01:YZ
    PLC: 10
    PmacController: GeoBrick_3

  - type: pmac.autohome
    GRP2: Y Centering
    GRP3: Z Centering
    P: BL04I-MO-GONIO-01:SAMP
    PLC: 11
    PmacController: GeoBrick_3

  - type: pmac.autohome
    GRP2: Kappa
    P: BL04I-MO-GONIO-01:KAPPA
    PLC: 12
    PmacController: GeoBrick_3

  - type: pmac.autohome
    GRP2: X Translation
    GRP3: Y Translation
    P: BL04I-MO-FSWT-01
    PLC: 10
    PmacController: GeoBrick_4

  - type: autosave.Autosave
    P: 'BL04I-MO-IOC-03:'
    debug: false

  - type: mirror.mirror2post
    CDEPTH: 73
    CTOM1: 170
    CTOM2: 170
    JACK1: UPSTREAMX
    JACK2: DOWNSTREAMX
    MAXOFFSET: 100
    MINOFFSET: -100
    OFFSET: X
    P: BL04I-MO-FSWT-01
    PITCH: YAW
    PITCHLIM: 30
    SUFFIX: YAW
    name: FSWT.OB1

  - type: mirror.mirror2post
    CDEPTH: 154
    CTOM1: 170
    CTOM2: 170
    JACK1: UPSTREAMY
    JACK2: DOWNSTREAMY
    MAXOFFSET: 100
    MINOFFSET: -100
    OFFSET: Y
    P: BL04I-MO-FSWT-01
    PITCH: PITCH
    PITCHLIM: 30
    SUFFIX: PITCH
    name: FSWT.OB2

  - type: mxEH.Cryojet_Retraction
    BRICK1PORT: BRICK_1
    RETRACT_REQ_IP: M12
    dom: BL04I

  - type: mxEH.Flu_Det_Protection
    BRICK1PORT: BRICK_1
    BRICK3PORT: BRICK_3
    dom: BL04I

  - type: mxEH.RobotInterface_PLC_Statuses
    BS_Z_BRICK_PORT: BRICK_3
    BS_Z_DIS_VAR: P812
    BS_Z_SAFE_VAR: P813
    GONIO_BRICK_PORT: BRICK_3
    GONIO_CENTREY_SAFE_VAR: P810
    GONIO_CENTREZ_SAFE_VAR: P811
    MAPT_Y_BRICK_PORT: BRICK_2
    MAPT_Y_DIS_VAR: P802
    MAPT_Y_SAFE_VAR: P830
    SCIN_Y_BRICK_PORT: BRICK_2
    SCIN_Y_DIS_VAR: P801
    SCIN_Y_SAFE_VAR: P832
    dom: BL04I

  - type: BL04I.auto_GonioReady
    dom: BL04I

  - type: transfocator.transfocator
    P: BL04I-MO-FSWT-01
    PLC: 20
    PLC_HOME: 23
    PLC_IN: 22
    PLC_MASK: 24
    PLC_OUT: 21
    PORT: BRICK_4
    ROCKER: 6
    TRANSLATION: 5
    name: TRANS

  - type: transfocator.BL04I_beamsizeCalc
    P: BL04I-MO-FSWT-01
    name: TRANS_CALC

  - type: pvlogging.PvLogging
    access_file: /epics/support/pvlogging/src/access.acf
