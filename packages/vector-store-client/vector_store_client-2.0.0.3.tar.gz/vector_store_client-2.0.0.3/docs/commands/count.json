{
  "command": "count",
  "summary": "Count chunks in the vector store",
  "description": "Count chunks based on metadata filters or AST-based filter expressions",
  "parameters": {
    "metadata_filter": {
      "type": "object",
      "description": "Metadata filter for counting. Supports: $eq, $in, $range, $gte, $lte, $gt, $lt for scalar and array fields. If not provided, all records will be counted. uuid can be used as a filter field.",
      "additionalProperties": true
    },
    "ast_filter": {
      "type": "object",
      "description": "AST-based filter expression for advanced counting. Provides structured query language with operators like AND, OR, NOT, comparison operators, and field-specific filters. Example: {\"operator\": \"AND\", \"left\": {\"field\": \"category\", \"operator\": \"=\", \"value\": \"technical\"}, \"right\": {\"field\": \"language\", \"operator\": \"=\", \"value\": \"en\"}}",
      "additionalProperties": true
    },
    "include_deleted": {
      "type": "boolean",
      "default": false,
      "description": "Whether to include records marked for deletion in the count. Default is False."
    }
  },
  "required": [],
  "examples": {
    "count_all": {
      "description": "Count all chunks",
      "request": {
        "jsonrpc": "2.0",
        "method": "count",
        "id": 1
      }
    },
    "count_with_metadata_filter": {
      "description": "Count chunks with metadata filter",
      "request": {
        "jsonrpc": "2.0",
        "method": "count",
        "params": {
          "metadata_filter": {
            "category": "programming",
            "language": "en"
          }
        },
        "id": 1
      }
    },
    "count_with_ast_filter": {
      "description": "Count chunks using AST filter",
      "request": {
        "jsonrpc": "2.0",
        "method": "count",
        "params": {
          "ast_filter": {
            "operator": "AND",
            "left": {
              "field": "category",
              "operator": "=",
              "value": "technical"
            },
            "right": {
              "field": "language",
              "operator": "=",
              "value": "en"
            }
          }
        },
        "id": 1
      }
    },
    "count_including_deleted": {
      "description": "Count chunks including deleted ones",
      "request": {
        "jsonrpc": "2.0",
        "method": "count",
        "params": {
          "include_deleted": true
        },
        "id": 1
      }
    }
  }
} 