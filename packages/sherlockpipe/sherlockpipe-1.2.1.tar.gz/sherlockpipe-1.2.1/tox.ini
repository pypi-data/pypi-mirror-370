[tox]
envlist = py{311}-{gha,local}
requires = tox-conda

[testenv]
deps=
    numpy==2.1.1
    pytest
    setuptools
    wheel
    Cython
    pytest-forked
    pytest-xdist
whitelist_externals = pytest
    /bin/rm
commands =
    gha: pytest --forked -n 1 -v -x sherlockpipe/tests/
    local: pytest --forked -n 1 -v -x sherlockpipe/regression_tests/
