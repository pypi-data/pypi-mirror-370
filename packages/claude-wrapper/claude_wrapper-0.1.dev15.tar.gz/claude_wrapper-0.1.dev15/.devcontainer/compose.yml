# compose.yml (devcontainer)
version: "3.8"

services:
  devcontainer:
    build: .
    volumes:
      - ..:/workspace
      # - /var/run/docker.sock:/var/run/docker.sock
    networks:
      - shared # Add shared network for app communication
    command: sleep infinity
    cap_add:
      - NET_ADMIN
      - NET_RAW
    extra_hosts:
      - host.docker.internal:host-gateway # access host's `localhost` using `host.docker.internal`

networks:
  shared:
    # This network allows host access for your app
    driver: bridge
