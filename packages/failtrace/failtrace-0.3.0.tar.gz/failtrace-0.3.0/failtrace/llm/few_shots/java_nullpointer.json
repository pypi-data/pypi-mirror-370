[
  {
    "input": "[EXAMPLE — STYLE & STRUCTURE ONLY, DO NOT COPY ASSUMPTIONS]\nGRAPH SUMMARY: 312 nodes, 655 edges.\n\nTEST SUMMARY:\n• Total: 120\n• Executed: 120 (✅114, ❌3, ⚠️3)\n• Failures detail:\n  - com.acme.calc.CalculatorTest::sum_null_should_throw: NullPointerException\n\nCRITICAL PATHS for each failed test:\n\nTest: com.acme.calc.CalculatorTest::sum_null_should_throw\nError: java.lang.NullPointerException\nUpstream:\n  • com/acme/calc/Calculator.java::sum → com/acme/calc/Numbers.java::sanitize\nDownstream:\n  • com.acme.calc.CalculatorTest::sum_null_should_throw\n\nFUNCTION SNIPPETS:\n\ncom/acme/calc/Calculator.java::sum (line 52):\n    public Integer sum(Integer a, Integer b) {\n        return a + b; // no null checks\n    }\n\ncom/acme/calc/Numbers.java::sanitize (line 19):\n    public Integer sanitize(Integer x) { return x; }",
    "output": "{\n  \"analysis\": [\n    {\n      \"test_name\": \"com.acme.calc.CalculatorTest::sum_null_should_throw\",\n      \"error\": \"NullPointerException\",\n      \"call_path\": [\"com/acme/calc/Calculator.java::sum\", \"com/acme/calc/Numbers.java::sanitize\"],\n      \"reasoning\": [\n        \"1) sum بدون null-check مستقیماً a+b را اجرا می‌کند\",\n        \"2) sanitize مقدار null را اصلاح نمی‌کند\",\n        \"3) اجرای جمع روی null به NPE منجر می‌شود\"\n      ],\n      \"root_cause\": \"عدم کنترل null در Calculator::sum\",\n      \"suggested_fixes\": [\n        \"بررسی null و پرتاب IllegalArgumentException یا مقدار پیش‌فرض\",\n        \"بهبود sanitize برای جلوگیری از عبور null\"\n      ]\n    }\n  ]\n}"
  },
  {
    "input": "[EXAMPLE — STYLE & STRUCTURE ONLY, DO NOT COPY ASSUMPTIONS]\nGRAPH SUMMARY: 298 nodes, 602 edges.\n\nTEST SUMMARY:\n• Total: 110\n• Executed: 110 (✅105, ❌2, ⚠️3)\n• Failures detail:\n  - com.acme.util.RangeTest::clamp_should_validate_bounds: IllegalArgumentException: min>max\n\nCRITICAL PATHS for each failed test:\n\nTest: com.acme.util.RangeTest::clamp_should_validate_bounds\nError: java.lang.IllegalArgumentException: min>max\nUpstream:\n  • com/acme/util/Range.java::clamp → com/acme/util/Range.java::sanitize\nDownstream:\n  • com.acme.util.RangeTest::clamp_should_validate_bounds\n\nFUNCTION SNIPPETS:\n\ncom/acme/util/Range.java::clamp (line 34):\n    public int clamp(int v, int min, int max) {\n        sanitize(min, max);\n        return Math.min(Math.max(v, min), max);\n    }\n\ncom/acme/util/Range.java::sanitize (line 18):\n    void sanitize(int min, int max) {\n        if (min > max) throw new IllegalArgumentException(\"min>max\");\n    }",
    "output": "{\n  \"analysis\": [\n    {\n      \"test_name\": \"com.acme.util.RangeTest::clamp_should_validate_bounds\",\n      \"error\": \"IllegalArgumentException: min>max\",\n      \"call_path\": [\"com/acme/util/Range.java::clamp\", \"com/acme/util/Range.java::sanitize\"],\n      \"reasoning\": [\n        \"1) حدس رایج: اشکال در clamp\",\n        \"2) اما شواهد نشان می‌دهد sanitize به درستی min>max را منع می‌کند\",\n        \"3) شکست تست ناشی از ورودی نادرست/قرارداد استفاده (precondition) است\"\n      ],\n      \"root_cause\": \"ورودی معکوس یا نقض قرارداد فراخوانی clamp (min>max)\",\n      \"suggested_fixes\": [\n        \"اصلاح فراخوان تست/کد فراخواننده؛ تضمین min<=max\",\n        \"در صورت نیاز، امضای متد را با Objects.requireNonNull و اعتبارسنجی بهتر تقویت کنید\"\n      ]\n    }\n  ]\n}"
  }
]
