[tool.poetry]
name = "datakraken"
version = "1.1.8"
description = "Kraken is a convenience package that orchestrates data extraction by integrating SQL with Python, while managing safe storage and recall of sensitive connection credentials."
authors = ["Cai Davis", "Michael George", "Faizan Hemotra"]
license = "CC BY-NC 4.0"
readme = "README.md"
repository = "https://github.com/SETT-Centre-Data-and-AI/Kraken"

[tool.poetry.dependencies]
python = "^3.10"
sqlalchemy = "^2.0.11"
oracledb = "^2.4.1"
openpyxl = "^3.1.5"
pyparsing = "^3.0.9"
xlsxwriter = "^3.1.2"
keyring = "^24.0"
pandas = "^2.0.2"
pyodbc = "5.2.0"
matplotlib = "^3.8.0"
pyarrow = "^19.0.0"
pandasql = "^0.7.3"
pyyaml = "^6.0.1"
seaborn = "^0.13.0" # >=0.12.0 for compatibility with other profiling packages
xlrd = "^2.0.1"
charset-normalizer = "^3.3.2"
pymysql = "^1.1.1"
mariadb = "^1.1.10"
ipython = "^8.34.0" # >= 8.34.0 for compatibility with Python 3.10
psycopg2-binary = "^2.9.10"

[[tool.poetry.packages]]
include = "kraken"
from = "src"

[tool.poetry.group.dev.dependencies]
pytest = "^8.3.2"
pytest-cov = "^5.0.0"
commitizen = "^3.1.0"
python-dotenv = "^1.0.0"
mypy = "^1.15.0"
pandas-stubs = "^2.2.3.241126"
types-seaborn = "^0.13.2.20250111"
pre-commit = "^4.2.0"

[tool.commitizen]
name = "cz_conventional_commits"
tag_format = "v$version"
version_type = "pep440"
version_provider = "poetry"
update_changelog_on_bump = true
major_version_zero = false

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.poe.poetry_hooks]
pre_build = "prebuild"

[tool.poe.tasks.prebuild]
cmd = "scripts\\prebuild.bat"
