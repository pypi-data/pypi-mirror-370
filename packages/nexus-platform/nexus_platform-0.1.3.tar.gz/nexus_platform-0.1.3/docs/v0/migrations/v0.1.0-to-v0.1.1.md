# Migration Guide: v0.1.0 â†’ v0.1.1

This guide covers migrating from Nexus Platform v0.1.0 to v0.1.1.

## Overview

v0.1.1 is a **patch release** focused on code quality improvements and bug fixes. There are **no breaking changes** and the migration should be seamless for most users.

## Quick Migration

### 1. Update Package

```bash
# Using pip
pip install --upgrade nexus-platform==0.1.1

# Using poetry
poetry update nexus-platform

# Using pipenv
pipenv update nexus-platform
```

### 2. Verify Installation

```bash
python -c "import nexus; print(f'Nexus v{nexus.__version__}')"
# Should output: Nexus v0.1.1
```

### 3. Test Your Application

```bash
# Run your existing tests
pytest

# Start your application
nexus run
```

## What Changed

### âœ… Improvements (No Action Required)

- **CORS Configuration**: Enhanced compatibility between old and new config formats
- **Code Quality**: Reduced cyclomatic complexity and improved maintainability
- **Error Handling**: Better exception handling throughout the framework
- **Performance**: Minor performance improvements in event processing

### ðŸ”§ Bug Fixes (Automatic)

- **Main Entry Point**: Fixed issues with `main.py` when used as application entry point
- **Diagnostic Errors**: Resolved all type checking and linting issues
- **Import Cleanup**: Removed unused imports and fixed circular dependencies

### ðŸ“¦ Infrastructure Updates

- **CI/CD**: Improved GitHub Actions workflows
- **Testing**: Enhanced test coverage and reliability
- **Documentation**: Updated examples and API references

## Compatibility

### âœ… Fully Compatible

- **Configuration Files**: All existing `nexus_config.yaml` files work unchanged
- **Plugin APIs**: No changes to plugin interfaces or lifecycle methods
- **Database Schemas**: No database migrations required
- **CLI Commands**: All existing CLI commands work unchanged
- **API Endpoints**: No changes to REST API or authentication

### ðŸ“‹ Validation Checklist

After updating, verify these components still work:

- [ ] Application starts without errors
- [ ] Existing plugins load correctly
- [ ] API endpoints respond as expected
- [ ] Authentication flows work
- [ ] Database connections are successful
- [ ] Configuration files are read correctly

## Troubleshooting

### Common Issues

#### 1. Import Errors

**Issue**: `ImportError` when importing nexus components

**Solution**: Clear Python cache and reinstall:
```bash
pip uninstall nexus-platform
pip cache purge
pip install nexus-platform==0.1.1
```

#### 2. Configuration Warnings

**Issue**: Deprecation warnings about configuration format

**Solution**: These are informational only. Your configuration will continue to work. To modernize:

```yaml
# Old format (still supported)
security:
  cors_enabled: true
  cors_origins: ["*"]

# New format (recommended)
cors:
  enabled: true
  origins: ["*"]
  credentials: true
  methods: ["*"]
  headers: ["*"]
```

#### 3. Plugin Loading Issues

**Issue**: Plugins fail to load after update

**Solution**: Restart your application completely:
```bash
# Stop application
# Clear any cached plugin data
rm -rf __pycache__/ plugins/__pycache__/
# Restart
nexus run
```

## Performance Notes

### Event Processing Improvements

v0.1.1 includes optimizations to the event bus that may slightly improve performance for applications with high event throughput. No code changes are required to benefit from these improvements.

### Memory Usage

Minor reduction in memory usage due to cleanup of unused imports and objects.

## Testing Your Migration

### 1. Automated Tests

```bash
# Run your existing test suite
pytest tests/

# Run integration tests if you have them
pytest tests/integration/
```

### 2. Manual Verification

```bash
# Check application health
curl http://localhost:8000/health

# Verify API documentation
curl http://localhost:8000/docs

# Test plugin endpoints (adjust URL as needed)
curl http://localhost:8000/api/plugins/
```

### 3. Load Testing

If you have load tests, run them to verify performance characteristics remain stable.

## Rollback Plan

If you encounter issues, you can rollback to v0.1.0:

```bash
# Rollback using pip
pip install nexus-platform==0.1.0

# Rollback using poetry
poetry add nexus-platform==0.1.0

# Verify rollback
python -c "import nexus; print(f'Nexus v{nexus.__version__}')"
```

## Getting Help

If you encounter issues during migration:

1. **Check Logs**: Review application logs for specific error messages
2. **GitHub Issues**: Search existing issues at https://github.com/dnviti/nexus-platform/issues
3. **Community**: Join discussions at https://github.com/dnviti/nexus-platform/discussions
4. **Documentation**: Updated docs at https://dnviti.github.io/nexus-platform/

## Next Steps

After successful migration:

1. **Update Dependencies**: Consider updating other packages in your project
2. **Review Documentation**: Check updated guides and examples
3. **Contribute**: Report any issues or contribute improvements back to the project

---

**Migration Difficulty**: ðŸŸ¢ **Easy** (No breaking changes)
**Estimated Time**: < 5 minutes
**Risk Level**: ðŸŸ¢ **Low** (Patch release with bug fixes only)
