.. image:: https://odoo-community.org/readme-banner-image
   :target: https://odoo-community.org/get-involved?utm_source=readme
   :alt: Odoo Community Association

===================================
Field Service - Sale Stock From POS
===================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:14bf98ac81a2e88770fc2aef1ced74194f54c791256eaa166d7c80153732b5de
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/license-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Ffield--service-lightgray.png?logo=github
    :target: https://github.com/OCA/field-service/tree/17.0/fieldservice_sale_stock_from_pos
    :alt: OCA/field-service
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/field-service-17-0/field-service-17-0-fieldservice_sale_stock_from_pos
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/field-service&target_branch=17.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module adds compatibility between field_service_sale_stock and
pos_order_to_sale_order, allowing the creation of FSM orders directly
from the POS. It also includes logic to handle refunds.

**Table of contents**

.. contents::
   :local:

Usage
=====

Instructions for Creating FSM Orders from Point of Sale
=======================================================

1. Create or Edit a Product
---------------------------

Configure the product to create an FSM order per sale and add it to the
Point of Sale (POS).

2. Configure Stock Update Behavior
----------------------------------

In the POS settings, you can choose how stock updates:

- **Real-time**: FSM orders and pickings will be linked immediately.
- **On session close**: FSM orders and pickings will be linked only when
  the POS session is closed.

3. Configure the user who will recive notifications on fsm order creation
-------------------------------------------------------------------------

In the POS settings, under Sale Order Creation you can set the person
who will recive notifications to review the orders and assign them.

4. Open a New Point of Sale Session
-----------------------------------

5. Add the Configured Product to the Order
------------------------------------------

6. Select a Customer
--------------------

7. Click on "Create Order"
--------------------------

8. Behavior Based on the Selected Option
----------------------------------------

Create Draft Sale Order
~~~~~~~~~~~~~~~~~~~~~~~

- A draft Sale Order will be created.
- To process it, go to **Quotations/Orders**, select the order, and
  confirm it.
- **Real-time stock**: An FSM order will be created and linked
  immediately to the pickings.
- **Non-real-time stock**: You will need to close the POS session to
  link the FSM order to the pickings.

Create Confirmed Sale Order
~~~~~~~~~~~~~~~~~~~~~~~~~~~

- A confirmed Sale Order will be created directly.
- This flow works the same whether stock updates are real-time or not.
- An FSM order will be created and linked to the Sale Order
  automatically.

Create Delivered/Invoiced Sale Order
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- These options will automatically complete both the FSM order and the
  associated pickings.
- The difference between them is that **Invoiced** will also generate an
  invoice.

--------------

Refunds
=======

Refunds can be processed directly from the POS. The behavior varies
depending on whether it is a full or partial refund:

Full Refunds
------------

- If the FSM order is not yet completed, it will be canceled.

Partial Refunds
---------------

- The picking will be updated by removing the refunded products.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/field-service/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/field-service/issues/new?body=module:%20fieldservice_sale_stock_from_pos%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* APSL- Nagarro

Contributors
------------

- `APSL <https://apsl.tech>`__:

  - Bernat Obrador <bobrador@apsl.net>

Maintainers
-----------

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-borbrador| image:: https://github.com/borbrador.png?size=40px
    :target: https://github.com/borbrador
    :alt: borbrador

Current `maintainer <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-borbrador| 

This module is part of the `OCA/field-service <https://github.com/OCA/field-service/tree/17.0/fieldservice_sale_stock_from_pos>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
