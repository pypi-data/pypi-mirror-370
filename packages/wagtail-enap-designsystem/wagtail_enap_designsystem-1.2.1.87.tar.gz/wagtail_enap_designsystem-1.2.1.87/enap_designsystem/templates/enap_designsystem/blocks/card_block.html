{% load static %}
<!DOCTYPE html>
<html>
<head>
    <!-- Outras tags -->
    <link rel="stylesheet" type="text/css" href="{% static 'enap_designsystem/blocks/cards.css' %}">
</head>
<body>
    {% block content %}
    {% load wagtailcore_tags wagtailimages_tags %}
    <div class="{{ value.type }}">
        {% if value.type == 'card-bgimage' %}
            {% if value.image %}
                {% image value.image original format-webp as card_bg_img %}
                <div class="card-bgimage" style="background-image: url('{{ card_bg_img.url }}');">
                    {% if value.link %}
                        {% with link_block=value.link %}
                            {% if link_block.url %}
                                <a href="{{ link_block.url }}" class="card-overlay-link" {% if link_block.target %}target="{{ link_block.target }}"{% endif %}></a>
                            {% elif link_block.link_url %}
                                <a href="{{ link_block.link_url }}" class="card-overlay-link" {% if link_block.link_target %}target="{{ link_block.link_target }}"{% endif %}></a>
                            {% elif link_block.page %}
                                <a href="{{ link_block.page.url }}" class="card-overlay-link"></a>
                            {% endif %}
                        {% endwith %}
                    {% endif %}
                    <div class="wrapper-text-card-bgimage">
                        {% if value.title %}
                        <h2 class="h2-card" style="
                        display: -webkit-box;
                        -webkit-line-clamp: 2;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                        text-overflow: ellipsis;
                        margin-bottom: 10px;
                      ">
                        {{ value.title }}
                      </h2>
                        {% endif %}

                        {% if value.description %}
                            <div class="p-card">{{ value.description|richtext }}</div>
                        {% endif %}

                        {% if value.link %}
                            <div class="wrapper-button-right">
                                {% include_block value.link %}
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        {% elif value.type == 'card-horizontal' %}
            <div class="card-horizontal-container">
                {% if value.link %}
                    {% with link_block=value.link %}
                        {% if link_block.url %}
                            <a href="{{ link_block.url }}" class="card-overlay-link" {% if link_block.target %}target="{{ link_block.target }}"{% endif %}></a>
                        {% elif link_block.link_url %}
                            <a href="{{ link_block.link_url }}" class="card-overlay-link" {% if link_block.link_target %}target="{{ link_block.link_target }}"{% endif %}></a>
                        {% elif link_block.page %}
                            <a href="{{ link_block.page.url }}" class="card-overlay-link"></a>
                        {% endif %}
                    {% endwith %}
                {% endif %}
                <div class="card-horizontal-image-container">
                    {% if value.image %}
                        {% image value.image fill-800x450 format-webp preserve-svg as card_img %}
                        <div class="img-card" style="background-image: url('{{ card_img.url }}');"></div>
                    {% endif %}
                </div>

                <div class="wrapper-text-card-horizontal">
                    <div>
                    {% if value.title %}
                        <h2 class="h2-card">{{ value.title }}</h2>
                    {% endif %}

                    {% if value.description %}
                        <div class="p-card">{{ value.description|richtext }}</div>
                    {% endif %}
                    </div>
                    {% if value.link %}
                        <div class="wrapper-button-left">
                            {% include_block value.link %}
                        </div>
                    {% endif %}
                </div>
            </div>
        {% elif value.type == 'card-horizontal-reverse' %}
            <div class="card-horizontal-reverse-container">
                {% if value.link %}
                    {% with link_block=value.link %}
                        {% if link_block.url %}
                            <a href="{{ link_block.url }}" class="card-overlay-link" {% if link_block.target %}target="{{ link_block.target }}"{% endif %}></a>
                        {% elif link_block.link_url %}
                            <a href="{{ link_block.link_url }}" class="card-overlay-link" {% if link_block.link_target %}target="{{ link_block.link_target }}"{% endif %}></a>
                        {% elif link_block.page %}
                            <a href="{{ link_block.page.url }}" class="card-overlay-link"></a>
                        {% endif %}
                    {% endwith %}
                {% endif %}
                <div class="wrapper-text-card-horizontal-reverse">
                    {% if value.title %}
                        <h2 class="h2-card">{{ value.title }}</h2>
                    {% endif %}

                    {% if value.description %}
                        <div class="p-card">{{ value.description|richtext }}</div>
                    {% endif %}

                    {% if value.link %}
                        <div class="wrapper-button-left">
                            {% include_block value.link %}
                        </div>
                    {% endif %}
                </div>

                <div class="card-horizontal-reverse-image-container">
                    {% if value.image %}
                        {% image value.image fill-800x450 format-webp preserve-svg as card_img %}
                        <div class="img-card" style="background-image: url('{{ card_img.url }}');"></div>
                    {% endif %}
                </div>
            </div>
        {% else %}
            {% if value.image %}
                {% image value.image fill-800x450 format-webp preserve-svg as card_img %}
                <div class="img-card" style="background-image: url('{{ card_img.url }}');"></div>
            {% endif %}

            <div class="wrapper-text-button">
                {% if value.link %}
                    {% with link_block=value.link %}
                        {% if link_block.url %}
                            <a href="{{ link_block.url }}" class="card-overlay-link" {% if link_block.target %}target="{{ link_block.target }}"{% endif %}></a>
                        {% elif link_block.link_url %}
                            <a href="{{ link_block.link_url }}" class="card-overlay-link" {% if link_block.link_target %}target="{{ link_block.link_target }}"{% endif %}></a>
                        {% elif link_block.page %}
                            <a href="{{ link_block.page.url }}" class="card-overlay-link"></a>
                        {% endif %}
                    {% endwith %}
                {% endif %}
                <div class="wrapper-text-card">
                    {% if value.title %}
                        <h2 class="h2-card {% if value.type == 'card-secondary' %}text-center{% endif %} {% if value.type == 'card-secondary' or value.type == 'card-terciary' %}white{% endif %}">{{ value.title }}</h2>
                    {% endif %}

                    {% if value.description %}
                        <div class="p-card {% if value.type == 'card-secondary' %}text-center{% endif %} {% if value.type == 'card-secondary' or value.type == 'card-terciary' %}white{% endif %}">{{ value.description|richtext }}</div>
                    {% endif %}
                </div>

                {% if value.link %}
                    {% if value.type == 'card-secondary' %}
                        <div class="wrapper-button-center">
                            {% include_block value.link %}
                        </div>
                    {% elif value.type == 'card-terciary' %}
                        <div class="wrapper-button-right">
                            {% include_block value.link %}
                        </div>
                    {% else %}
                        <div class="wrapper-button-left">
                            {% include_block value.link %}
                        </div>
                    {% endif %}
                {% endif %}
            </div>
        {% endif %}
    </div>
    {% endblock %}
    {% block extra_scripts %}
    {% endblock %}
</body>
</html>