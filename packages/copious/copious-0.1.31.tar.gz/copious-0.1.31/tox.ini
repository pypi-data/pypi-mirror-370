[tox]
minversion = 4
envlist = py310-latest, py310-min
isolated_build = True

[testenv]
passenv = CI
allowlist_externals = bash
commands =
    pytest -q

[testenv:py310-latest]
description = Python 3.10 with latest dependencies as per requirements.txt
deps = -r requirements.txt

[testenv:py310-min]
description = Python 3.10 with minimal compatible dependencies
deps =
    -r requirements.runtime.in
    -c constraints/requirements-min.txt
    pytest
