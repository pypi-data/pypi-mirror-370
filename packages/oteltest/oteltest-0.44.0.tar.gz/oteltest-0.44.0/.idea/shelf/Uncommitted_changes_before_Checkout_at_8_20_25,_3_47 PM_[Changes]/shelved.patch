Index: src/oteltest/viz/templates/metric.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <title>Telemetry: {{ filename }}</title>\n    <style>\n        body {\n            font-family: monospace;\n            margin: 40px;\n            font-size: 14px;\n        }\n        h1, h2, h3, h4 {\n            color: #333;\n        }\n        .back {\n            margin-bottom: 20px;\n        }\n        a {\n            color: blue;\n            text-decoration: none;\n        }\n        a:hover {\n            text-decoration: underline;\n        }\n        .resource-block {\n            margin-bottom: 24px;\n            padding-left: 10px;\n            border-left: 2px solid #eee;\n        }\n        .scope-block {\n            margin-bottom: 24px;\n        }\n        .scope-header {\n            cursor: pointer;\n        }\n        .attributes-list {\n            display: grid;\n            grid-template-columns: max-content 1fr;\n            gap: 5px 10px;\n            padding-left: 0;\n            list-style: none;\n        }\n        .attributes-list dt {\n            font-weight: bold;\n            grid-column: 1;\n        }\n        .attributes-list dd {\n            grid-column: 2;\n            margin-left: 0;\n            word-break: break-all;\n        }\n        .metric-item {\n            margin-bottom: 15px;\n            padding-left: 10px;\n            border-left: 2px solid #eee;\n        }\n        .metric-header {\n            cursor: pointer;\n        }\n        .metric-content {\n            display: none;\n        }\n        .metric-name {\n            font-weight: bold;\n            font-size: 1.1em;\n        }\n        .metric-details {\n            color: #999;\n        }\n        .data-points-table {\n            border-collapse: collapse;\n            margin-top: 10px;\n            table-layout: fixed;\n            width: auto;\n        }\n        .data-points-table th, .data-points-table td {\n            text-align: left;\n            padding: 2px 8px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n        .data-points-table th.col-value,\n        .data-points-table td.col-value {\n            width: 150px;\n            max-width: 150px;\n            text-align: right !important;\n        }\n        .data-points-table .col-timestamp {\n            width: 220px;\n            max-width: 220px;\n            padding-left: 0;\n        }\n        .data-points-table .col-attribute {\n            width: 60px;\n            max-width: 60px;\n        }\n\n        .data-points-table th {\n            font-weight: bold;\n        }\n        .data-points {\n            padding-left: 20px;\n            margin-top: 10px;\n            list-style-type: none;\n        }\n    </style>\n    <script>\n        function formatNanoTimestamp(nano) {\n            const date = new Date(nano / 1000000);\n            return date.toLocaleString() + '.' + (nano % 1000000).toString().padStart(6, '0').substr(0,3);\n        }\n\n        document.addEventListener('DOMContentLoaded', function() {\n            const timestamps = document.querySelectorAll('.timestamp');\n            timestamps.forEach(function(ts) {\n                const nano = ts.getAttribute('data-timestamp-nano');\n                if (nano) {\n                    ts.textContent = formatNanoTimestamp(parseInt(nano, 10));\n                }\n            });\n\n            const metricHeaders = document.querySelectorAll('.metric-header');\n            metricHeaders.forEach(function(header) {\n                header.addEventListener('click', function() {\n                    const content = this.nextElementSibling;\n                    if (content.style.display === 'none' || content.style.display === '') {\n                        content.style.display = 'block';\n                    } else {\n                        content.style.display = 'none';\n                    }\n                });\n            });\n\n            const scopeHeaders = document.querySelectorAll('.scope-header');\n            scopeHeaders.forEach(function(header) {\n                header.addEventListener('click', function() {\n                    const metricContents = this.parentElement.querySelectorAll('.metric-content');\n                    // Toggle based on the state of the first metric in the scope\n                    const shouldExpand = metricContents.length > 0 && (metricContents[0].style.display === 'none' || metricContents[0].style.display === '');\n                    metricContents.forEach(function(content) {\n                        content.style.display = shouldExpand ? 'block' : 'none';\n                    });\n                });\n            });\n        });\n    </script>\n</head>\n<body>\n<div class=\"back\">\n    <a href=\"/\">‚Üê Back to file list</a>\n</div>\n\n<h1>Telemetry: {{ filename }}</h1>\n\n<div class=\"metrics-container\">\n    <h2>Metrics</h2>\n    {% if metric_groups is defined and metric_groups|length > 0 %}\n        {% for metric_resource in metric_groups %}\n            <div class=\"resource-block\">\n                <div>\n                    <span class=\"metric-name\">Resource</span>\n                </div>\n                {% if metric_resource.attrs and metric_resource.attrs|length > 0 %}\n                    <dl class=\"attributes-list\">\n                        {% for attr in metric_resource.attrs %}\n                            <dt>{{ attr.key }}</dt>\n                            <dd>{{ attr.value.stringValue or attr.value.intValue or attr.value.boolValue or attr.value.doubleValue or attr.value or '' }}</dd>\n                        {% endfor %}\n                    </dl>\n                {% else %}\n                    <span>(No resource attributes)</span>\n                {% endif %}\n            </div>\n\n            {% if metric_resource.scope_metrics_list %}\n                {% for scope_metrics in metric_resource.scope_metrics_list %}\n                    <div class=\"scope-block\">\n                        <h3 class=\"scope-header\">{{ scope_metrics.scope_attrs.name or 'Default Scope' }} <span class=\"metric-details\">(v{{ scope_metrics.scope_attrs.version or 'N/A' }})</span></h3>\n\n                        {% if scope_metrics.metrics %}\n                            {% for metric in scope_metrics.metrics %}\n                                <div class=\"metric-item\">\n                                    <div class=\"metric-header\">\n                                        <span class=\"metric-name\">{{ metric.name }}</span>\n                                        {% if metric.table and metric.table.rows %}\n                                            <span class=\"metric-details\">{{ metric.table.rows|length }}</span>\n                                        {% else %}\n                                            <span class=\"metric-details\">0</span>\n                                        {% endif %}\n                                    </div>\n                                    <div class=\"metric-content\">\n                                    {% if metric.table %}\n                                        <table class=\"data-points-table\">\n                                            <thead>\n                                                <tr>\n                                                    {% for header in metric.table.headers %}\n                                                        {% if header == 'Timestamp' %}\n                                                            <th class=\"col-timestamp\"></th>\n                                                        {% elif header == 'Value' %}\n                                                            <th class=\"col-value\">({{ metric.unit or 'no unit' }})</th>\n                                                        {% else %}\n                                                            <th class=\"col-attribute\" title=\"{{ header }}\">{{ header }}</th>\n                                                        {% endif %}\n                                                    {% endfor %}\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {% set ns_ts = namespace(last_timestamp=None) %}\n                                                {% for row in metric.table.rows %}\n                                                    <tr>\n                                                        {% if ns_ts.last_timestamp == row.timestamp %}\n                                                            <td class=\"col-timestamp\"></td>\n                                                        {% else %}\n                                                            <td class=\"col-timestamp\"><span class=\"timestamp\" data-timestamp-nano=\"{{ row.timestamp }}\">{{ row.timestamp }}</span></td>\n                                                            {% set ns_ts.last_timestamp = row.timestamp %}\n                                                        {% endif %}\n                                                        <td class=\"col-value\" title=\"{{ row.value if row.value is not none else '' }}\">{{ row.value if row.value is not none else '' }}</td>\n                                                        {% for key in metric.table.sorted_keys %}\n                                                            {% set val = row.attributes.get(key, '') %}\n                                                            <td class=\"col-attribute\" title=\"{{ val }}\">{{ val }}</td>\n                                                        {% endfor %}\n                                                    </tr>\n                                                {% endfor %}\n                                            </tbody>\n                                        </table>\n                                    {% else %}\n                                        <ul class=\"data-points\">\n                                            <li>No data points for this metric.</li>\n                                        </ul>\n                                    {% endif %}\n                                    </div>\n                                </div>\n                            {% endfor %}\n                        {% else %}\n                            <p>No metrics in this scope.</p>\n                        {% endif %}\n                    </div>\n                {% endfor %}\n            {% else %}\n                <p>No scope metrics in this resource.</p>\n            {% endif %}\n        {% endfor %}\n    {% else %}\n        <p>No metric data available.</p>\n    {% endif %}\n</div>\n\n</body>\n</html>\n
===================================================================
diff --git a/src/oteltest/viz/templates/metric.html b/src/oteltest/viz/templates/metric.html
--- a/src/oteltest/viz/templates/metric.html	(revision a04c5ecc9b66fb71aa10f78baf518f7af4ba5a0c)
+++ b/src/oteltest/viz/templates/metric.html	(date 1755265673984)
@@ -181,7 +181,7 @@
                             {% for metric in scope_metrics.metrics %}
                                 <div class="metric-item">
                                     <div class="metric-header">
-                                        <span class="metric-name">{{ metric.name }}</span>
+                                        <span class="metric-name" title="{{ metric.description }}">{{ metric.name }}</span>
                                         {% if metric.table and metric.table.rows %}
                                             <span class="metric-details">{{ metric.table.rows|length }}</span>
                                         {% else %}
